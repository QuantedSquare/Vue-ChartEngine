webpackHotUpdate(2,{

/***/ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/ChartDonut.vue?vue&type=script&lang=js&":
/*!*******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/ChartDonut.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_Margot_Desktop_projectsQS_Viz_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray */ \"./node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.regexp.split */ \"./node_modules/core-js/modules/es6.regexp.split.js\");\n/* harmony import */ var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.array.sort */ \"./node_modules/core-js/modules/es6.array.sort.js\");\n/* harmony import */ var core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ \"./node_modules/core-js/modules/web.dom.iterable.js\");\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.function.name */ \"./node_modules/core-js/modules/es6.function.name.js\");\n/* harmony import */ var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3 */ \"./node_modules/d3/index.js\");\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nvar TWEEN = __webpack_require__(/*! @tweenjs/tween.js */ \"./node_modules/@tweenjs/tween.js/src/Tween.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: \"ChartDonut\",\n  props: {\n    linesData: {\n      type: Object,\n      default: function _default() {\n        return {\n          name: \"\",\n          yearsData: []\n        };\n      }\n    },\n    idDonut: {\n      type: String,\n      default: \"donut\"\n    },\n    dataDonut: Object,\n    displaySunburst: {\n      type: Object,\n      default: {\n        targetIndex: 0,\n        color: {\n          colorScale: \"interpolateRainbow\",\n          colorMin: \"rgba(12, 204, 249, 1)\",\n          colorMax: \"rgba(162, 255, 174, 1)\",\n          opacity: 0.6,\n          childrenOpacity: {\n            present: false,\n            opacity: 0.4\n          }\n        },\n        nbRing: \"all\",\n        radiusCenter: 100,\n        explanationsCenter: {\n          present: true,\n          width: 140,\n          font: {\n            size: 15,\n            family: \"sans-serif\"\n          }\n        },\n        slices: {\n          zoomable: true,\n          text: {\n            present: false,\n            font: {\n              size: 10,\n              family: \"sans-serif\"\n            },\n            rotation: \"transform string\"\n          },\n          joinSlices: {\n            present: false,\n            bornInclusion: [0, 29720540]\n          },\n          supprSlices: {\n            present: false,\n            keepData: null,\n            bornExclusion: [0, 0],\n            into: true\n          },\n          center: {\n            visibility: false\n          },\n          hover: true\n        },\n        sizes: {\n          maxW: 500,\n          center: 150,\n          sunburstW: 500,\n          legendW: 300,\n          sequenceW: 500 + 300 + 30\n        },\n        legends: {\n          present: true,\n          position: \"right\",\n          clickable: true\n        },\n        sequence: {\n          present: true,\n          font: {\n            size: 10,\n            family: \"sans-serif\"\n          },\n          position: \"top\",\n          center: false,\n          endLabel: {\n            font: {\n              size: 12,\n              family: \"sans-serif\",\n              weight: \"bold\"\n            },\n            present: true,\n            unit: \"Million d'euros\"\n          }\n        }\n      }\n    }\n  },\n  data: function data() {\n    return {\n      notResize: true,\n      targetIndex: 0,\n      currentRing: 0,\n      tweenedCoord: [],\n      targetCoords: [],\n      mLeave: false,\n      sequences: {\n        colorName: null,\n        seqNames: [],\n        labelBudget: null,\n        currentHover: null\n      },\n      centerInfos: {\n        name: null,\n        value: null\n      },\n      majW: null,\n      minW: null,\n      mixW: null,\n      labelW: null,\n      fontHeight: null,\n      explanationsPos: null,\n      chartPos: this.setChartPos(),\n      fontSlices: \"font: \" + this.displaySunburst.slices.text.font.size + \"px \" + this.displaySunburst.slices.text.font.family,\n      fontEndLabel: \"font: \" + this.displaySunburst.sequence.endLabel.font.size + \"px \" + this.displaySunburst.sequence.endLabel.font.family + \"; font-weight:\" + this.displaySunburst.sequence.endLabel.font.weight,\n      fontSeq: \"font: \" + this.displaySunburst.sequence.font.size + \"px \" + this.displaySunburst.sequence.font.family\n    };\n  },\n  model: {\n    prop: \"linesData\",\n    event: \"update:linesData\"\n  },\n  updated: function updated() {\n    this.explanationsPos = this.setExplanationsPos();\n  },\n  mounted: function mounted() {\n    this.majW = document.getElementById(\"maj\").offsetWidth / 21;\n    this.minW = document.getElementById(\"min\").offsetWidth / 21;\n    this.mixW = document.getElementById(\"mix\").offsetWidth / 21;\n    this.labelW = document.getElementById(\"label\").offsetWidth / 8;\n    this.fontHeight = document.getElementById(\"mix\").offsetHeight;\n    this.explanationsPos = this.setExplanationsPos();\n  },\n  computed: {\n    displayBudget: function displayBudget() {\n      // transform.budget = (transform.budget / 1000000).toFixed(2);\n      return this.sequences.currentHover ? this.sequences.labelBudget : (this.transformData.budget / 1000000).toFixed(2);\n    },\n    interpolator: function interpolator() {\n      if (this.displaySunburst.color.colorScale === \"interpolateCool\") return d3__WEBPACK_IMPORTED_MODULE_5__[\"interpolateCool\"];else if (this.displaySunburst.color.colorScale === \"interpolateRainbow\") return d3__WEBPACK_IMPORTED_MODULE_5__[\"interpolateRainbow\"];else if (this.displaySunburst.color.colorScale === \"interpolateRgb\") return Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"interpolateRgb\"])(this.displaySunburst.color.colorMin, this.displaySunburst.color.colorMax);\n    },\n    colorScale: function colorScale(bla) {\n      return Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"scaleOrdinal\"])(Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"quantize\"])(this.interpolator, this.transformData.children.length + 1));\n    },\n    fontExplanations: function fontExplanations() {\n      return \"font: \" + this.displaySunburst.explanationsCenter.font.size + \"px \" + this.displaySunburst.explanationsCenter.font.family + \"; width: \" + (this.displaySunburst.radiusCenter - 10) + \"px;\";\n    },\n    transformData: function transformData() {\n      var _this = this;\n\n      var transform = {\n        name: this.dataDonut.name.toUpperCase(),\n        children: [],\n        budgetProgess: [],\n        budget: 0\n      };\n      var newChildren = [];\n      var subChild = [];\n      var budget = 0;\n      var budgetProgess = [[0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0]]; //suppr slices inutiles\n\n      if (!this.displaySunburst.slices.supprSlices.keepData) {\n        transform.children = this.dataDonut.children.filter(function (child) {\n          if (_this.displaySunburst.slices.supprSlices.present) {\n            if (_this.displaySunburst.slices.supprSlices.into) return _this.displaySunburst.slices.supprSlices.bornExclusion[0] < child.budget && child.budget < _this.displaySunburst.slices.supprSlices.bornExclusion[1];else return _this.displaySunburst.slices.supprSlices.bornExclusion[0] < child.budget && child.budget <= _this.displaySunburst.slices.supprSlices.bornExclusion[1];\n          }\n\n          return child;\n        });\n      } else transform = this.dataDonut.children.filter(function (child) {\n        return child.name === _this.displaySunburst.slices.supprSlices.keepData;\n      })[0]; //join data\n\n\n      if (this.displaySunburst.slices.joinSlices.present) {\n        transform.children.forEach(function (child) {\n          if (child.budget >= _this.displaySunburst.slices.joinSlices.bornInclusion[0] && child.budget <= _this.displaySunburst.slices.joinSlices.bornInclusion[1]) {\n            subChild.push(child);\n            budget += child.budget;\n          } else newChildren.push(child);\n        });\n        newChildren.push({\n          budget: budget,\n          // budgetProgess: budgetProgess,\n          name: \"AUTRES\",\n          children: subChild\n        });\n        transform.children = newChildren;\n      } // console.log(transform.children);\n\n\n      if (!this.displaySunburst.slices.supprSlices.keepData && !this.displaySunburst.slices.joinSlices.present) {\n        transform.name = \"AUTRES\";\n        transform.children.forEach(function (child) {\n          budgetProgess[0] = budgetProgess[0].map(function (num, i) {\n            return num + child.budgetProgess[0][i].y;\n          });\n          budgetProgess[1] = budgetProgess[1].map(function (num, i) {\n            return num + child.budgetProgess[1][i].y;\n          });\n        });\n        budgetProgess = budgetProgess.map(function (array) {\n          return array.map(function (value, i) {\n            return {\n              x: transform.children[0].budgetProgess[0][i].x,\n              y: value\n            };\n          });\n        }); // console.log(\"budget progress\", budgetProgess);\n\n        this.$emit(\"update:linesData\", {\n          name: \"AUTRES\",\n          budgetProgess: budgetProgess\n        });\n        transform.budgetProgess = budgetProgess;\n      } // });\n      // }\n\n\n      if (!this.displaySunburst.slices.supprSlices.keepData) transform.children.forEach(function (child) {\n        return transform.budget += child.budget;\n      });\n      transform.children.forEach(function (child) {\n        if (child.name === \"AUTRES\") {\n          child.children.forEach(function (subchild) {\n            budgetProgess[0] = budgetProgess[0].map(function (num, i) {\n              return num + subchild.budgetProgess[0][i].y;\n            });\n            budgetProgess[1] = budgetProgess[1].map(function (num, i) {\n              return num + subchild.budgetProgess[1][i].y;\n            });\n          });\n          budgetProgess = budgetProgess.map(function (array) {\n            return array.map(function (value, i) {\n              return {\n                x: child.children[0].budgetProgess[0][i].x,\n                y: value\n              };\n            });\n          }); // console.log(\"budget progress\", budgetProgess);\n\n          child[\"budgetProgess\"] = budgetProgess;\n\n          _this.$emit(\"update:linesData\", {\n            name: \"AUTRES\",\n            budgetProgess: budgetProgess\n          });\n        }\n      });\n      return transform;\n    },\n    root: function root() {\n      var _this2 = this;\n\n      // console.log(\"trnaformData\", this.transformData);\n      var root = Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"hierarchy\"])(this.transformData).sum(function (d) {\n        return d.value;\n      }).sort(function (a, b) {\n        return b.value - a.value;\n      });\n      this.partition(root); // console.log(\"root\", root.descendants());\n      // console.log(\"root\", root);\n\n      var i = -1;\n      root.each(function (d) {\n        ++i;\n        return d.position = i;\n      });\n\n      if (this.displaySunburst.targetIndex) {\n        var p = root.descendants()[this.displaySunburst.targetIndex];\n        var maxDepth = this.searchMaxDepth(p); // console.log(maxDepth - p.depth + 1, this.displaySunburst.nbRing)\n\n        var radiusDivider = this.displaySunburst.nbRing === \"all\" || maxDepth - p.depth + 1 <= this.displaySunburst.nbRing ? maxDepth - p.depth + 1 : this.displaySunburst.nbRing;\n        var maxDomain = this.displaySunburst.nbRing === \"all\" || p.depth >= this.displaySunburst.nbRing ? maxDepth : this.displaySunburst.nbRing;\n        var newPartY = (this.radius - this.displaySunburst.radiusCenter) / radiusDivider;\n        var r0Scale = Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"scaleLinear\"])();\n        var r1Scale = Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"scaleLinear\"])();\n        r0Scale.range([this.displaySunburst.radiusCenter, this.radius - newPartY]).domain([p.depth, maxDomain]);\n        r1Scale.range([newPartY + this.displaySunburst.radiusCenter, this.radius]).domain([p.depth, maxDomain]);\n        root.each(function (d) {\n          var newX0 = d.depth > maxDomain && _this2.displaySunburst.nbRing !== \"all\" ? 0 : Math.max(0, Math.min(1, (d.x0 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\n              newX1 = d.depth > maxDomain && _this2.displaySunburst.nbRing !== \"all\" ? 0 : Math.max(0, Math.min(1, (d.x1 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\n              newY0 = d.depth > maxDomain && _this2.displaySunburst.nbRing !== \"all\" ? 0 : newX1 - newX0 === 2 * Math.PI && d.data.name !== p.data.name || d.depth === 0 ? 0 : r0Scale(d.depth),\n              newY1 = d.depth > maxDomain && _this2.displaySunburst.nbRing !== \"all\" ? 0 : newX1 - newX0 === 2 * Math.PI && d.data.name !== p.data.name ? _this2.displaySunburst.radiusCenter : r1Scale(d.depth); // console.log(d.depth, maxDomain, newX1 - newX0, 2 * Math.PI, d.data.name, p.data.name, r0Scale(d.depth))\n\n          return d.target = {\n            x0: newX0,\n            x1: newX1,\n            y0: newY0,\n            y1: newY1\n          };\n        });\n      }\n\n      return root;\n    },\n    radius: function radius() {\n      return this.displaySunburst.sizes.sunburstW / 2;\n    },\n    partition: function partition() {\n      return Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"partition\"])().size([2 * Math.PI, this.radius]);\n    },\n    arcSlice: function arcSlice() {\n      var arcSlice = Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"arc\"])().startAngle(function (d) {\n        return d.x0;\n      }).endAngle(function (d) {\n        return d.x1;\n      }).padAngle(function (d) {\n        return Math.min((d.x1 - d.x0) / 2, 0.005);\n      }).padRadius(this.radius / 2).innerRadius(function (d) {\n        return d.y0;\n      }).outerRadius(function (d) {\n        return d.y1 - 1;\n      });\n      return arcSlice;\n    },\n    slices: function slices() {\n      var _this3 = this;\n\n      function lookUpForParentName(slice) {\n        if (slice.parent && slice.parent.depth > 0) {\n          return lookUpForParentName(slice.parent);\n        } else {\n          return slice.data.name;\n        }\n      }\n\n      var maxDepth = this.searchMaxDepth(this.root); // console.log(maxDepth - p.depth + 1, this.displaySunburst.nbRing)\n\n      var newPartY = (this.radius - this.displaySunburst.radiusCenter) / maxDepth;\n      var r0Scale = Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"scaleLinear\"])();\n      var r1Scale = Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"scaleLinear\"])();\n      r0Scale.range([this.displaySunburst.radiusCenter, this.radius - newPartY]).domain([1, maxDepth]);\n      r1Scale.range([newPartY + this.displaySunburst.radiusCenter, this.radius]).domain([1, maxDepth]);\n      var amppedSlices = this.root.descendants().map(function (slice) {\n        if (slice.parent) {\n          slice.parentName = lookUpForParentName(slice);\n        } else slice.parentName = \"\";\n\n        slice.current = {\n          x0: slice.depth > _this3.currentRing + 1 && _this3.displaySunburst.nbRing !== \"all\" ? 0 : slice.x0,\n          x1: slice.depth > _this3.currentRing + 1 && _this3.displaySunburst.nbRing !== \"all\" ? 0 : slice.x1,\n          y0: slice.depth > _this3.currentRing + 1 && _this3.displaySunburst.nbRing !== \"all\" || slice.depth === 0 ? 0 : _this3.displaySunburst.nbRing === \"all\" ? r0Scale(slice.depth) // all rings at the begining\n          : slice.y0 + _this3.displaySunburst.radiusCenter / 2,\n          // if just 1 ring at the begining\n          y1: slice.depth > _this3.currentRing + 1 && _this3.displaySunburst.nbRing !== \"all\" ? 0 : _this3.displaySunburst.nbRing === \"all\" ? r1Scale(slice.depth) : //slice.y1 + this.displaySunburst.radiusCenter / 2 // all rings at the begining\n          _this3.radius // if just 1 ring at the begining\n\n        };\n        return slice;\n      });\n      this.currentCoords = amppedSlices.map(function (slice) {\n        return slice.current;\n      });\n\n      if (amppedSlices[0].target) {\n        this.targetCoords = amppedSlices.map(function (elem) {\n          return elem.target;\n        });\n      }\n\n      if (this.displaySunburst.targetIndex === 0) this.targetCoords = this.currentCoords; // console.log(\"here\", amppedSlices[0].target, this.currentCoords, this.targetCoords, this.displaySunburst.targetIndex)\n      // nb d'anneaux au sunburst\n\n      if (this.displaySunburst.nbRing !== \"all\") amppedSlices = amppedSlices.filter(function (slice) {\n        return slice.depth <= _this3.currentRing + _this3.displaySunburst.nbRing - 1;\n      });\n      return amppedSlices;\n    },\n    texts: function texts() {\n      var _this4 = this;\n\n      var textData = this.root.descendants().map(function (d, i) {\n        var x0 = d.target ? d.target.x0 : d.current.x0,\n            x1 = d.target ? d.target.x1 : d.current.x1,\n            y0 = d.target ? d.target.y0 : d.current.y0,\n            y1 = d.target ? d.target.y1 : d.current.y1;\n        var x = (x0 + x1) / 2 * 180 / Math.PI;\n        var y = (y0 + y1) / 2;\n        var transform = \"rotate(\".concat(x - 90, \") translate(\").concat(y, \",0) rotate(\").concat(x < 180 ? 0 : 180, \")\");\n        var name = [];\n        name.push(d.data.name); // console.log(name.length * this.majW, y1 - y0, name, d.depth, this.currentRing, this.displaySunburst.targetIndex, i);\n\n        if (name[0].length * _this4.majW > y1 - y0 && y1 - y0 !== 0) {\n          var wordAr = name[0].split(/\\s+/);\n          var strArr = [];\n\n          _this4.reduceSliceText(wordAr, y1 - y0, strArr);\n\n          name = strArr;\n        } // console.log(\n        //   name.length * this.fontHeight,\n        //   ((y0 + y1) / 2) * (x1 - x0),\n        //   y0,\n        //   name\n        // );\n\n\n        var display = (y0 + y1) / 2 * (x1 - x0) > 10 && y0 !== 0 && (y0 + y1) / 2 * (x1 - x0) > name.length * _this4.fontHeight;\n        return {\n          display: display,\n          name: name,\n          transform: transform\n        };\n      });\n      return textData;\n    },\n    translateChart: function translateChart() {\n      return \"translate(\".concat(this.displaySunburst.sizes.sunburstW / 2, \", \").concat(this.displaySunburst.sizes.sunburstW / 2, \")\");\n    },\n    translatePolygon: function translatePolygon() {\n      var _this5 = this;\n\n      var antL = 0;\n      var b = [];\n      console.log(\"polygon\", this.sequences.seqNames);\n      this.sequences.seqNames.forEach(function (elem, i) {\n        var l = 0;\n        if (i !== 0) l = antL * _this5.majW + 2 + b[i - 1] + 20;\n        b.push(l);\n        antL = Math.max.apply(Math, Object(_Users_Margot_Desktop_projectsQS_Viz_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(elem.map(function (span) {\n          return span.length;\n        })));\n        i++;\n      }); // x label budget\n\n      b.push(antL * this.majW + 2 + b[b.length - 1] + 20); // console.log(b)\n\n      return b;\n    },\n    legends: function legends() {\n      var _this6 = this;\n\n      this.proportionTextSeq();\n      var legendsNames = this.root.descendants().filter(function (elem) {\n        return elem.depth === 1;\n      }).map(function (elem) {\n        return elem.data.name;\n      });\n      var arrayName = [],\n          arrayLegendsNames = [];\n      var nbSpan = 0,\n          rectSize = 18 + 4;\n      legendsNames.forEach(function (name) {\n        // console.log(name.length * this.majW, this.majW, name.length, name, this.displaySunburst.sizes.legendW);\n        if (name.length * _this6.majW > _this6.displaySunburst.sizes.legendW - rectSize) arrayName = _this6.reduceLegendTxt(name, _this6.displaySunburst.sizes.legendW - rectSize);else arrayName = [name];\n        nbSpan += arrayName.length;\n        arrayLegendsNames.push(arrayName);\n      });\n      var longestName = 0;\n      arrayLegendsNames.forEach(function (name) {\n        name.forEach(function (elem) {\n          // console.log(elem.length)\n          if (longestName < elem.length) longestName = elem.length;\n        });\n      });\n      return {\n        names: legendsNames,\n        arrayNames: arrayLegendsNames,\n        width: longestName,\n        nbSpan: nbSpan\n      };\n    }\n  },\n  watch: {\n    targetCoords: function targetCoords(newSet, oldSet) {\n      var _this7 = this;\n\n      function animate() {\n        if (TWEEN.update()) {\n          requestAnimationFrame(animate);\n        }\n      } // console.log(\"newSet\",newSet, oldSet)\n\n\n      newSet.forEach(function (elem, i) {\n        new TWEEN.Tween(oldSet.length && oldSet[i] ? oldSet[i] : _this7.currentCoords[i]).to(elem, 1000).easing(TWEEN.Easing.Quadratic.Out).onUpdate(function (set) {\n          var x = (set.x0 + set.x1) / 2 * 180 / Math.PI;\n          var y = (set.y0 + set.y1) / 2;\n          Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"select\"])(\".\" + _this7.idDonut + \" #slice\" + i).attr(\"d\", _this7.arcSlice(set));\n          Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"select\"])(\".\" + _this7.idDonut + \" #text\" + i).attr(\"transform\", \"rotate(\".concat(x - 90, \") translate(\").concat(y, \",0) rotate(\").concat(x < 180 ? 0 : 180, \")\"));\n        }).start();\n      });\n      animate();\n    }\n  },\n  methods: {\n    translateLegend: function translateLegend(names, index, legend) {\n      var h = 0; // console.log(\"names\", names, legend.join(\" \").trim());\n\n      if (index === 0) return \"translate(0, \" + 33 * index + \")\";else {\n        for (var i = 0; i < index; i++) {\n          if (names[i].length === 1) h += 18 + 15;else h += 2.5 + names[i].length * 12 + (names[i].length - 1) + 15;\n        }\n\n        return \"translate(0, \" + h + \")\";\n      }\n    },\n    reduceLegendTxt: function reduceLegendTxt(name, legendTxtSize) {\n      var _this8 = this;\n\n      var words = name.split(/\\s+/),\n          partName = \"\",\n          arrayName = [],\n          a = 0;\n      words.some(function (word, i) {\n        if (partName.concat(\" \", word).length * _this8.majW < legendTxtSize) partName = partName.concat(\" \", word).trim();else if (a === 0) return a = i;\n      });\n\n      if (a) {\n        arrayName.push(partName);\n        words = words.slice(a);\n\n        if (words.join(\" \").length * this.majW > legendTxtSize) {\n          this.reduceLegendTxt(words.join(\" \").trim(), arrayName);\n        } else {\n          arrayName.push(words.join(\" \").trim());\n        }\n      } else arrayName.push(name);\n\n      return arrayName;\n    },\n    setChartPos: function setChartPos() {\n      var proportion = window.innerWidth > 600 && this.displaySunburst.legends.present ? \"xs8\" : \"xs12\";\n      var offset = this.displaySunburst.sizes.offset;\n      return proportion + \" \" + offset;\n    },\n    onResize: function onResize() {\n      var doc = document.getElementsByClassName(this.idDonut);\n      var child = doc[0].children[0].children;\n      var seqW = child.sequence.offsetWidth;\n      var legW = child.sidebar ? child.sidebar.offsetWidth : null; // console.log(\"resize\", child, legW, this.displaySunburst.sizes.legendW, this.displaySunburst.sizes.sequenceW);\n\n      if (this.notResize === false) {\n        this.displaySunburst.sizes.sequenceW = seqW;\n        this.displaySunburst.sizes.legendW = legW;\n      } else this.notResize = false;\n\n      this.explanationsPos = this.setExplanationsPos();\n      if (window.innerWidth > 600 && this.displaySunburst.legends.present) this.chartPos = \"xs8\";else this.chartPos = \"xs12\";\n    },\n    searchMaxDepth: function searchMaxDepth(p) {\n      var _this9 = this;\n\n      var maxDepth = 0;\n      p.each(function (elem) {\n        if (elem.children) elem.children.forEach(function (child) {\n          _this9.searchMaxDepth(child);\n        });\n        maxDepth = elem.depth;\n      });\n      return maxDepth;\n    },\n    visibleArc: function visibleArc(index, slice) {\n      if (index === 0 && !this.displaySunburst.slices.center.visibility || this.root.descendants()[index].target && this.root.descendants()[index].target.y0 === 0 && this.displaySunburst.explanationsCenter.present) return 0;\n      return slice.children ? this.displaySunburst.color.opacity : this.displaySunburst.color.childrenOpacity.present ? this.displaySunburst.color.childrenOpacity.opacity : this.displaySunburst.color.opacity;\n    },\n    sizeWords: function sizeWords(wordAr, ringSize) {\n      var _this10 = this;\n\n      var sizeOk = true;\n      wordAr.forEach(function (word) {\n        if (word.length * _this10.majW > ringSize) sizeOk = false;\n      });\n      return sizeOk;\n    },\n    reduceSliceText: function reduceSliceText(wordAr, ringSize, strArr) {\n      var _this11 = this;\n\n      var str = \"\";\n      var a = 0;\n\n      if (this.sizeWords(wordAr, ringSize)) {\n        wordAr.forEach(function (word, i) {\n          if (i === 0 && str.concat(\"\", word).length * _this11.majW < ringSize) {\n            str = str.concat(\"\", word);\n          } else if (str.concat(\" \", word).length * _this11.majW < ringSize) {\n            str = str.concat(\" \", word);\n            a = i;\n          }\n        });\n        wordAr = wordAr.slice(a + 1);\n        if (str) strArr.push(str); // console.log(\"ici\", str, wordAr, wordAr.join(\" \").length);\n\n        if (wordAr.join(\" \").length * this.majW > ringSize) {\n          this.reduceSliceText(wordAr, ringSize, strArr);\n        } else {\n          if (wordAr.length) strArr.push(wordAr.join(\" \"));\n        }\n      }\n    },\n    smallestFirstWordsArr: function smallestFirstWordsArr(allWordsArr, reducer, sizeSeq, sizeLabel, maxWordLength) {\n      var fullNameLength = allWordsArr.map(function (arrayW) {\n        return arrayW.join(\" \").length;\n      });\n      allWordsArr = allWordsArr.map(function (arrayW, i) {\n        // console.log(\"maxLen\", maxWordLength[i], arrayW.join(\" \").length, arrayW.join(\" \"), Math.max(...fullNameLength))\n        if (arrayW.join(\" \").length === Math.max.apply(Math, Object(_Users_Margot_Desktop_projectsQS_Viz_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(fullNameLength)) || arrayW.join(\" \").length > maxWordLength[i]) arrayW = arrayW.slice(0, arrayW.length - 1);\n        return arrayW;\n      });\n      var array = allWordsArr.map(function (arrayW, i) {\n        // console.log(\"join\",arrayW.join(\" \").length, maxWordLength[i], arrayW.join(\" \").length > maxWordLength[i] ? arrayW.join(\" \").length : maxWordLength[i])\n        return arrayW.join(\" \").length > maxWordLength[i] ? arrayW.join(\" \").length : maxWordLength[i]; // return arrayW.join(\" \").length * this.majW + 20\n      });\n      console.log(\"array\", array, array.reduce(reducer), sizeSeq - sizeLabel);\n      var sumW = array.reduce(reducer);\n      if (sumW * this.majW + maxWordLength.length * 25 > sizeSeq - sizeLabel) return this.smallestFirstWordsArr(allWordsArr, reducer, sizeSeq, sizeLabel, maxWordLength);\n      allWordsArr = allWordsArr.map(function (arrayW) {\n        return arrayW.join(\" \");\n      });\n      return allWordsArr;\n    },\n    reduceNbW: function reduceNbW(allWordsArr, sizeSeq, sizeLabel) {\n      console.log(\"reduceNB\", allWordsArr);\n      var nbWords = allWordsArr.map(function (arrayW) {\n        return arrayW.length;\n      });\n      var maxWordLength = allWordsArr.map(function (arrayW) {\n        return Math.max.apply(Math, Object(_Users_Margot_Desktop_projectsQS_Viz_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(arrayW.map(function (word) {\n          return word.length;\n        })));\n      });\n\n      var reducer = function reducer(accumulator, currentValue) {\n        return accumulator + currentValue;\n      };\n\n      console.log(maxWordLength, maxWordLength.reduce(reducer), this.majW, maxWordLength.reduce(reducer) * this.majW, sizeSeq - sizeLabel, sizeSeq, allWordsArr);\n\n      if (maxWordLength.reduce(reducer) * this.majW + maxWordLength.length * 25 < sizeSeq - sizeLabel) {\n        return allWordsArr = this.smallestFirstWordsArr(allWordsArr, reducer, sizeSeq, sizeLabel, maxWordLength);\n      } else return;\n    },\n    reduceSecondLine: function reduceSecondLine(word, tspan, newSpan) {\n      console.log(\"here\");\n      var splitSpan = tspan.split(/\\s+/);\n      var l = 0,\n          index = 0;\n      console.log(tspan);\n      splitSpan.forEach(function (spanWord, i) {\n        console.log(\"spanW\", spanWord);\n        l += spanWord.length + 1;\n        if (l <= word.length + 1) index = i;\n      });\n      var newSpan1 = splitSpan.slice(0, index + 1).join(\" \");\n      var newSpan2 = splitSpan.length > 1 ? splitSpan.slice(index + 1, splitSpan.length).join(\" \") : null;\n      newSpan.push(newSpan1);\n      if (newSpan2 && newSpan2.length > word.length) return this.reduceSecondLine(word, newSpan2, newSpan);else if (newSpan2) newSpan.push(newSpan2);\n      return newSpan;\n    },\n    blabla: function blabla(endLabelW, endLabelP, seqNamesBase) {\n      var _this12 = this;\n\n      var wordAr = seqNamesBase.map(function (elem) {\n        return elem[0].split(/\\s+/);\n      });\n      wordAr = this.reduceNbW(wordAr, this.displaySunburst.sizes.sequenceW, endLabelW + endLabelP);\n      console.log(\"wordAr\", wordAr);\n\n      if (wordAr) {\n        return seqNamesBase.map(function (elem, i) {\n          console.log(\"seqbase\", elem, wordAr[i]);\n\n          if (elem[0] !== wordAr[i]) {\n            var tspan = elem[0].split(wordAr[i] + \" \");\n            console.log(\"tspan\", tspan);\n            elem = [wordAr[i], tspan[1]];\n\n            if (tspan[1] && wordAr[i].length < tspan[1].length) {\n              var newSpan = [];\n              newSpan = _this12.reduceSecondLine(wordAr[i], tspan[1], newSpan);\n              elem = [wordAr[i]].concat(newSpan);\n            }\n          }\n\n          return elem;\n        });\n      } else {\n        var newSeqNames = seqNamesBase.map(function (elem, i) {\n          if (i !== seqNamesBase.length - 1) elem = [\"...\"];\n          return elem;\n        });\n        return this.blabla(endLabelW, endLabelP, newSeqNames);\n      }\n    },\n    proportionTextSeq: function proportionTextSeq() {\n      var _this13 = this;\n\n      var newSeqNames = this.sequences.seqNames; // console.log(\"seqname\", newSeqNames);\n\n      if (this.sequences.seqNames.length) {\n        var array = this.sequences.seqNames.map(function (elem) {\n          return elem[0].length * _this13.majW + 20;\n        }); // pas encore en span\n\n        var reducer = function reducer(accumulator, currentValue) {\n          return accumulator + currentValue;\n        };\n\n        var endLabelW = (this.sequences.labelBudget.length + this.displaySunburst.sequence.endLabel.unit.length + 1) * this.labelW,\n            endLabelP = 15;\n        var sumW = array.reduce(reducer); // console.log(\"seqw\", this.displaySunburst.sizes.sequenceW);\n        // console.log(\n        //   \"Wendlabel\",\n        //   endLabelW,\n        //   array,\n        //   sumW,\n        //   this.displaySunburst.sizes.sequenceW - endLabelW - endLabelP\n        // );\n\n        if (sumW > this.displaySunburst.sizes.sequenceW - endLabelW - endLabelP) {\n          // wordAr = this.reduceNbW(\n          //   wordAr,\n          //   this.displaySunburst.sizes.sequenceW,\n          //   endLabelW + endLabelP\n          // );\n          // console.log(\"wordAr\", wordAr);\n          // if (wordAr) {\n          // newSeqNames = this.sequences.seqNames.map((elem, i) => {\n          //       // console.log(elem, wordAr[i])\n          //       if (elem[0] !== wordAr[i]) {\n          //         let tspan = elem[0].split(wordAr[i] + \" \");\n          //         elem = [wordAr[i], tspan[1]];\n          //         if (wordAr[i].length < tspan[1].length) {\n          //           let newSpan = [];\n          //           newSpan = this.reduceSecondLine(\n          //             wordAr[i],\n          //             tspan[1],\n          //             newSpan\n          //           );\n          //           elem = [wordAr[i]].concat(newSpan);\n          //         }\n          //       }\n          //       return elem;\n          //     })\n          // }\n          // else {\n          //   newSeqNames = this.sequences.seqNames.map((elem, i) => {\n          //     if(i !== this.sequences.seqNames.length - 1)\n          //       elem = [\"...\"]\n          //     return elem\n          //   });\n          // }\n          var _newSeqNames = this.blabla(endLabelW, endLabelP, this.sequences.seqNames);\n\n          this.sequences.seqNames = _newSeqNames; // console.log(\"new\",newSeqNames)\n        }\n      }\n    },\n    notCenter: function notCenter(names) {\n      // console.log(\"notcenter\", names, names[0][0], this.root.descendants()[0].data.name.toUpperCase())\n      if (names[0][0] === this.root.descendants()[0].data.name.toUpperCase() && !this.displaySunburst.slices.center.visibility && names.length === 1) {\n        return false;\n      }\n\n      return true;\n    },\n    polygonPoints: function polygonPoints(allSpan, allNames) {\n      // console.log(\"points\", allNames)\n      var nbSpanText = allNames.map(function (span) {\n        return span.length;\n      });\n      var maxLSpan = Math.max.apply(Math, Object(_Users_Margot_Desktop_projectsQS_Viz_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(allSpan.map(function (span) {\n        return span.length;\n      })));\n      var maxH = Math.max.apply(Math, Object(_Users_Margot_Desktop_projectsQS_Viz_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nbSpanText)); // console.log(\"span\",allSpan, maxLSpan)\n\n      var a = maxLSpan * this.majW + 20,\n          //padding\n      b = a + 10,\n          //pointe\n      c = maxH > 2 ? (maxH + 1) * 10 : 30,\n          d = maxH > 2 ? 5 + maxH * 5 : 15;\n      return \"0,0 \" + a + \",0 \" + b + \",\" + d + \" \" + a + \",\" + c + \" 0,\" + c + \" 10,\" + d;\n    },\n    ySpan: function ySpan(sequence, allNames) {\n      var allLength = allNames.map(function (elem) {\n        return elem.length;\n      });\n      var maxL = Math.max.apply(Math, Object(_Users_Margot_Desktop_projectsQS_Viz_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(allLength)); // console.log(maxL, allNames)\n\n      var ySpanScale = Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"scaleLinear\"])();\n      ySpanScale.range([(maxL + 1) * 5, 15]).domain([1, maxL]); // console.log(ySpanScale(sequence.length))\n\n      var a = sequence.length === maxL ? maxL === 1 ? 15 : 13 : ySpanScale(sequence.length); // console.log(sequence, a)\n\n      return a;\n    },\n    clicked: function clicked(index, idDonut) {\n      if (idDonut === \"donut2\") {\n        this.currentRing = this.root.descendants()[index].depth;\n      } // console.log(\"dataDonut in click\", this.root.descendants()[index])\n\n\n      this.$emit(\"onClick\", this.root.descendants()[index], idDonut, index);\n    },\n    setExplanationsPos: function setExplanationsPos() {\n      var newDiv = document.createElement(\"div\"); // console.log(this.sequences, this.transformData)\n\n      var name = this.sequences.currentHover ? this.sequences.currentHover : this.transformData.name;\n      newDiv.innerHTML = name.toUpperCase() + \"<br><br><span>\" + this.sequences.labelBudget + \" \" + this.displaySunburst.sequence.endLabel.unit + \"</span>\";\n      newDiv.setAttribute(\"id\", \"explanation\");\n      newDiv.setAttribute(\"style\", this.fontExplanations);\n      var currentDiv = document.getElementById(\"app\");\n      currentDiv.appendChild(newDiv);\n      var donut = document.getElementsByClassName(this.idDonut),\n          chartW = donut[0].children[0].children.chart.offsetWidth; // console.log(chartW, this.displaySunburst.sizes.maxW)\n\n      if (chartW > 200 && chartW < this.displaySunburst.sizes.maxW) {\n        this.displaySunburst.sizes.sunburstW = chartW;\n        this.displaySunburst.radiusCenter = chartW / 4 > this.displaySunburst.sizes.center ? this.displaySunburst.sizes.center : chartW / 4;\n      } else if (chartW >= this.displaySunburst.sizes.maxW) {\n        this.displaySunburst.sizes.sunburstW = this.displaySunburst.sizes.maxW;\n        this.displaySunburst.radiusCenter = this.displaySunburst.sizes.center;\n      }\n\n      var hDiv = newDiv.offsetHeight;\n      var tDiv = this.displaySunburst.sizes.sunburstW / 2 - hDiv / 2;\n      var lDiv = chartW / 2 - (this.displaySunburst.radiusCenter - 10) / 2;\n      currentDiv.removeChild(newDiv);\n      return \"top: \" + tDiv + \"px; left: \" + lDiv + \"px;\";\n    },\n    // legendOver(index) {\n    //   let doc = this;\n    //   function overChildren(slice, idDonut) {\n    //     if (slice.children && slice.children.length) {\n    //       slice.children.forEach(child => {\n    //         select(\".\" + idDonut + \" #slice\" + child.position).style(\n    //           \"opacity\",\n    //           1\n    //         );\n    //         if (child.children && child.children.length)\n    //           overChildren(child, idDonut);\n    //       });\n    //     }\n    //   }\n    //   selectAll(\".\" + doc.idDonut + \" #chart path\").style(\"opacity\", 0.3);\n    //   select(\".\" + doc.idDonut + \" #slice\" + index).style(\"opacity\", 1);\n    //   overChildren(this.root.descendants()[index], this.idDonut);\n    // },\n    // lengendLeave() {\n    //   let doc = this;\n    //   this.mLeave = true;\n    //   const turnOnHover = () => {\n    //       doc.mLeave = false;\n    //     };\n    //   // console.log(\"leave\",this.mLeave)\n    //   selectAll(\".\" + this.idDonut + \" #chart path\")\n    //     .transition()\n    //     .duration(500)\n    //     .style(\"opacity\", 1)\n    //     .on(\"end\", function() {\n    //       console.log(\"end\")\n    //       turnOnHover();\n    //     });\n    // },\n    mouseover: function mouseover(index) {\n      var doc = this;\n\n      function mouseOnCenter(doc) {\n        doc.mLeave = true;\n\n        var turnOnHover = function turnOnHover() {\n          doc.mLeave = false;\n          doc.sequences.seqNames = [];\n          doc.sequences.currentHover = null;\n        };\n\n        Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"selectAll\"])(\".\" + doc.idDonut + \" #chart path\").transition().duration(500).style(\"opacity\", 1).on(\"end\", function () {\n          turnOnHover();\n        });\n      }\n\n      function overParents(slice, doc, display, idDonut) {\n        if (slice.parent && slice.parent.depth > 0 && slice.parent.target && slice.parent.target.y0 !== 0 && display.explanationsCenter.present || display.nbRing === \"all\" && slice.parent && !slice.parent.target && slice.parent.depth > 0) {\n          Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"select\"])(\".\" + idDonut + \" #slice\" + slice.parent.position).style(\"opacity\", 1);\n          overParents(slice.parent, doc, display, idDonut);\n        } else if (slice.depth === 0 && !display.slices.center.visibility || display.explanationsCenter.present && slice.target && slice.target.y0 === 0) {\n          mouseOnCenter(doc);\n        }\n      }\n\n      function setSequence(slice) {\n        if (slice.parent && slice.parent.depth > 0) {\n          seqNames.push(slice.parent.data.name.toUpperCase());\n          setSequence(slice.parent);\n        }\n      }\n\n      Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"selectAll\"])(\".\" + doc.idDonut + \" #chart path\").style(\"opacity\", 0.3);\n      Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"select\"])(\".\" + doc.idDonut + \" #slice\" + index).style(\"opacity\", 1);\n      overParents(this.root.descendants()[index], this, this.displaySunburst, this.idDonut);\n      this.sequences.colorName = this.root.descendants()[index].parentName;\n      this.sequences.currentHover = index && this.root.descendants()[index].target && this.root.descendants()[index].target.y0 !== 0 || index && !this.root.descendants()[index].target ? this.root.descendants()[index].data.name : null;\n      this.explanationsPos = this.setExplanationsPos();\n      var seqNames = [];\n      seqNames.push(this.root.descendants()[index].data.name.toUpperCase());\n      setSequence(this.root.descendants()[index]);\n      seqNames = seqNames.reverse();\n      this.sequences.seqNames = seqNames.map(function (elem) {\n        var arrayName = [];\n        arrayName.push(elem);\n        return arrayName;\n      });\n      var budget = this.root.descendants()[index].data.value ? this.root.descendants()[index].data.value / 1000000 : this.root.descendants()[index].data.budget / 1000000;\n      this.sequences.labelBudget = budget.toFixed(2);\n    },\n    mouseleave: function mouseleave() {\n      var _this14 = this;\n\n      this.mLeave = true;\n\n      var turnOnHover = function turnOnHover() {\n        _this14.mLeave = false;\n        _this14.sequences.seqNames = [];\n        _this14.sequences.currentHover = null;\n      };\n\n      Object(d3__WEBPACK_IMPORTED_MODULE_5__[\"selectAll\"])(\".\" + this.idDonut + \" #chart path\").transition().duration(500).style(\"opacity\", 1).on(\"end\", function () {\n        turnOnHover();\n      });\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/IS4vc3JjL2NvbXBvbmVudHMvQ2hhcnREb251dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL0NoYXJ0RG9udXQudnVlPzk1ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHRlbXBsYXRlPlxuICA8di1jb250YWluZXIgcGEtMCBmaWxsLWhlaWdodCA6Y2xhc3M9XCJpZERvbnV0XCI+XG4gICAgPHYtbGF5b3V0IHdyYXAgaWQ9XCJkb251dENoYXJ0XCI+XG4gICAgICA8di1mbGV4IHhzMTIgY2xhc3M9XCJ3aWR0aF90ZXh0XCIgOnN0eWxlPVwiZm9udFNsaWNlcytgO2NvbG9yOiB0cmFuc3BhcmVudDtgXCI+XG4gICAgICAgIDxzcGFuIGlkPVwibWFqXCI+QUNIQVRTIERFIENPTlRSQUNUVUVMPC9zcGFuPlxuICAgICAgICA8c3BhbiBpZD1cIm1pblwiPmFjaGF0cyBkZSBjb250cmFjdHVlbDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gaWQ9XCJtaXhcIj5BY2hhdHMgZGUgY29udHJhY3R1ZWw8L3NwYW4+XG4gICAgICAgIDxzcGFuIGlkPVwibGFiZWxcIiA6c3R5bGU9XCJmb250RW5kTGFiZWxcIj4xNC41MiB7e2Rpc3BsYXlTdW5idXJzdC5zZXF1ZW5jZS5lbmRMYWJlbC51bml0fX08L3NwYW4+XG4gICAgICA8L3YtZmxleD5cbiAgICAgIDx2LWZsZXggeHMxMiBpZD1cInNlcXVlbmNlXCIgdi1pZj1cImRpc3BsYXlTdW5idXJzdC5zZXF1ZW5jZS5wcmVzZW50XCIgdi1yZXNpemU9XCJvblJlc2l6ZVwiPlxuICAgICAgICA8c3ZnIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjgwXCIgaWQ9XCJ0cmFpbFwiPlxuICAgICAgICAgIDx0ZXh0XG4gICAgICAgICAgICB2LWlmPVwic2VxdWVuY2VzLnNlcU5hbWVzLmxlbmd0aCA+IDAgJiYgbm90Q2VudGVyKHNlcXVlbmNlcy5zZXFOYW1lcykgJiYgZGlzcGxheVN1bmJ1cnN0LnNlcXVlbmNlLmVuZExhYmVsLnByZXNlbnRcIlxuICAgICAgICAgICAgaWQ9XCJlbmRsYWJlbFwiXG4gICAgICAgICAgICA6eD1cInRyYW5zbGF0ZVBvbHlnb25bdHJhbnNsYXRlUG9seWdvbi5sZW5ndGggLSAxXSArIDE1XCJcbiAgICAgICAgICAgIHk9XCIxNVwiXG4gICAgICAgICAgICBkeT1cIjAuMzVlbVwiXG4gICAgICAgICAgICB0ZXh0LWFuY2hvcj1cInN0YXJ0XCJcbiAgICAgICAgICAgIGZpbGw9XCJyZ2IoMCwgMCwgMCk7XCJcbiAgICAgICAgICAgIDpzdHlsZT1cImZvbnRFbmRMYWJlbFwiXG4gICAgICAgICAgPnt7c2VxdWVuY2VzLmxhYmVsQnVkZ2V0fX0ge3tkaXNwbGF5U3VuYnVyc3Quc2VxdWVuY2UuZW5kTGFiZWwudW5pdH19PC90ZXh0PlxuICAgICAgICAgIDxnXG4gICAgICAgICAgICB2LWlmPVwibm90Q2VudGVyKHNlcXVlbmNlcy5zZXFOYW1lcylcIlxuICAgICAgICAgICAgdi1mb3I9XCIoc2VxdWVuY2UsIGluZGV4KSBpbiBzZXF1ZW5jZXMuc2VxTmFtZXNcIlxuICAgICAgICAgICAgOnRyYW5zZm9ybT1cImB0cmFuc2xhdGUoYCsgdHJhbnNsYXRlUG9seWdvbltpbmRleF0gK2AsIDApYFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHBvbHlnb25cbiAgICAgICAgICAgICAgOnBvaW50cz1cInBvbHlnb25Qb2ludHMoc2VxdWVuY2UsIHNlcXVlbmNlcy5zZXFOYW1lcylcIlxuICAgICAgICAgICAgICA6ZmlsbD1cImNvbG9yU2NhbGUoc2VxdWVuY2VzLmNvbG9yTmFtZSlcIlxuICAgICAgICAgICAgICA6ZmlsbC1vcGFjaXR5PVwiZGlzcGxheVN1bmJ1cnN0LmNvbG9yLm9wYWNpdHlcIlxuICAgICAgICAgICAgPjwvcG9seWdvbj5cbiAgICAgICAgICAgIDx0ZXh0IDppZD1cImB0ZXh0X2AraW5kZXhcIiB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIDpzdHlsZT1cImZvbnRTZXFcIj5cbiAgICAgICAgICAgICAgPHRzcGFuXG4gICAgICAgICAgICAgICAgdi1mb3I9XCIobmFtZSwgaW5kZXgpIGluIHNlcXVlbmNlXCJcbiAgICAgICAgICAgICAgICA6eD1cIigoTWF0aC5tYXgoLi4uc2VxdWVuY2UubWFwKHNwYW4gPT4gc3Bhbi5sZW5ndGgpKSAqIG1halcgKyAxMCkgLyAyKSsxMFwiXG4gICAgICAgICAgICAgICAgOnk9XCJ5U3BhbihzZXF1ZW5jZSwgc2VxdWVuY2VzLnNlcU5hbWVzKVwiXG4gICAgICAgICAgICAgICAgOmR5PVwic2VxdWVuY2UubGVuZ3RoID4gMSA/IChpbmRleCAqIDEuMSkgKyBgZW1gIDogYDAuMzVlbWBcIlxuICAgICAgICAgICAgICA+e3tuYW1lfX08L3RzcGFuPlxuICAgICAgICAgICAgPC90ZXh0PlxuICAgICAgICAgIDwvZz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L3YtZmxleD5cbiAgICAgIDx2LWZsZXggOmNsYXNzPVwiY2hhcnRQb3NcIiBpZD1cImNoYXJ0XCIgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmVcIj5cbiAgICAgICAgPCEtLSA8ZGl2PiAtLT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGlkPVwiZXhwbGFuYXRpb25cIlxuICAgICAgICAgIDpzdHlsZT1cImZvbnRFeHBsYW5hdGlvbnMgKyBleHBsYW5hdGlvbnNQb3NcIlxuICAgICAgICAgIHYtaWY9XCJkaXNwbGF5U3VuYnVyc3QuZXhwbGFuYXRpb25zQ2VudGVyLnByZXNlbnRcIlxuICAgICAgICA+XG4gICAgICAgICAge3tzZXF1ZW5jZXMuY3VycmVudEhvdmVyID8gc2VxdWVuY2VzLmN1cnJlbnRIb3Zlci50b1VwcGVyQ2FzZSgpIDogdHJhbnNmb3JtRGF0YS5uYW1lfX1cbiAgICAgICAgICA8YnI+XG4gICAgICAgICAgPGJyPlxuICAgICAgICAgIDxzcGFuIGlkPVwibGFiZWxCdWdkZXRcIj57e2Rpc3BsYXlCdWRnZXR9fSB7e2Rpc3BsYXlTdW5idXJzdC5zZXF1ZW5jZS5lbmRMYWJlbC51bml0fX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3ZnXG4gICAgICAgICAgOmhlaWdodD1cImRpc3BsYXlTdW5idXJzdC5zaXplcy5zdW5idXJzdFdcIlxuICAgICAgICAgIDp3aWR0aD1cImRpc3BsYXlTdW5idXJzdC5zaXplcy5zdW5idXJzdFdcIlxuICAgICAgICAgIEBtb3VzZWxlYXZlPVwibW91c2VsZWF2ZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8ZyBmaWxsLW9wYWNpdHk9XCIwLjZcIiA6dHJhbnNmb3JtPVwidHJhbnNsYXRlQ2hhcnRcIj5cbiAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgIHYtZm9yPVwiKHNsaWNlLCBpbmRleCkgaW4gc2xpY2VzXCJcbiAgICAgICAgICAgICAgOmtleT1cInNsaWNlLmlkXCJcbiAgICAgICAgICAgICAgOmZpbGw9XCJjb2xvclNjYWxlKHNsaWNlLnBhcmVudE5hbWUpXCJcbiAgICAgICAgICAgICAgOmZpbGwtb3BhY2l0eT1cInZpc2libGVBcmMoaW5kZXgsIHNsaWNlKVwiXG4gICAgICAgICAgICAgIDppZD1cImBzbGljZWAraW5kZXhcIlxuICAgICAgICAgICAgICA6ZD1cImFyY1NsaWNlKHNsaWNlKVwiXG4gICAgICAgICAgICAgIDpzdHlsZT1cIiFkaXNwbGF5U3VuYnVyc3Quc2xpY2VzLnpvb21hYmxlID8gbnVsbCA6IGBjdXJzb3I6IHBvaW50ZXI7YFwiXG4gICAgICAgICAgICAgIEBjbGljaz1cIiFkaXNwbGF5U3VuYnVyc3Quc2xpY2VzLnpvb21hYmxlID8gbnVsbCA6IGNsaWNrZWQoaW5kZXgsIGlkRG9udXQpXCJcbiAgICAgICAgICAgICAgQG1vdXNlb3Zlcj1cIm1MZWF2ZSA9PT0gMCA/IG51bGwgOiBtb3VzZW92ZXIoaW5kZXgpXCJcbiAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgPC9nPlxuICAgICAgICAgIDxnXG4gICAgICAgICAgICB2LWlmPVwiZGlzcGxheVN1bmJ1cnN0LnNsaWNlcy50ZXh0LnByZXNlbnRcIlxuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM9XCJub25lXCJcbiAgICAgICAgICAgIHRleHQtYW5jaG9yPVwibWlkZGxlXCJcbiAgICAgICAgICAgIDp0cmFuc2Zvcm09XCJ0cmFuc2xhdGVDaGFydFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHRleHRcbiAgICAgICAgICAgICAgdi1mb3I9XCIodGV4dCwgaW5kZXgpIGluIHRleHRzXCJcbiAgICAgICAgICAgICAgOmlkPVwiYHRleHRgK2luZGV4XCJcbiAgICAgICAgICAgICAgOnRyYW5zZm9ybT1cInRleHQudHJhbnNmb3JtXCJcbiAgICAgICAgICAgICAgZHk9XCIwLjM1ZW1cIlxuICAgICAgICAgICAgICA6c3R5bGU9XCJmb250U2xpY2VzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHRzcGFuXG4gICAgICAgICAgICAgICAgdi1mb3I9XCIobmFtZSwgaW5kZXgpIGluIHRleHQubmFtZVwiXG4gICAgICAgICAgICAgICAgOng9XCIwXCJcbiAgICAgICAgICAgICAgICA6eT1cIjBcIlxuICAgICAgICAgICAgICAgIDpkeT1cInRleHQubmFtZS5sZW5ndGggPiAxID8gKC0wLjUwICsgaW5kZXgpICsgYGVtYCA6IGAwLjM1ZW1gXCJcbiAgICAgICAgICAgICAgPnt7dGV4dC5kaXNwbGF5ID8gbmFtZSA6IG51bGx9fTwvdHNwYW4+XG4gICAgICAgICAgICA8L3RleHQ+XG4gICAgICAgICAgPC9nPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvdi1mbGV4PlxuICAgICAgPHYtZmxleCB4czEwIHNtNCBwbC0zIHB0LTUgaWQ9XCJzaWRlYmFyXCIgdi1pZj1cImRpc3BsYXlTdW5idXJzdC5sZWdlbmRzLnByZXNlbnRcIj5cbiAgICAgICAgTGVnZW5kXG4gICAgICAgIDxicj5cbiAgICAgICAgPGRpdiBpZD1cImxlZ2VuZFwiPlxuICAgICAgICAgIDxzdmcgOndpZHRoPVwiZGlzcGxheVN1bmJ1cnN0LnNpemVzLmxlZ2VuZFdcIiA6aGVpZ2h0PVwibGVnZW5kcy5uYlNwYW4gKiAzM1wiPlxuICAgICAgICAgICAgPGdcbiAgICAgICAgICAgICAgdi1mb3I9XCIobGVnZW5kLCBpbmRleCkgaW4gbGVnZW5kcy5hcnJheU5hbWVzXCJcbiAgICAgICAgICAgICAgOnRyYW5zZm9ybT1cInRyYW5zbGF0ZUxlZ2VuZChsZWdlbmRzLmFycmF5TmFtZXMsIGluZGV4LCBsZWdlbmQpXCJcbiAgICAgICAgICAgICAgQGNsaWNrPVwiIWRpc3BsYXlTdW5idXJzdC5sZWdlbmRzLmNsaWNrYWJsZSA/IG51bGwgOiBjbGlja2VkKGluZGV4ICsgMSwgaWREb251dClcIlxuICAgICAgICAgICAgICA6c3R5bGU9XCIhZGlzcGxheVN1bmJ1cnN0LmxlZ2VuZHMuY2xpY2thYmxlID8gbnVsbCA6IGBjdXJzb3I6IHBvaW50ZXI7YFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxyZWN0XG4gICAgICAgICAgICAgICAgcng9XCIzXCJcbiAgICAgICAgICAgICAgICByeT1cIjNcIlxuICAgICAgICAgICAgICAgIHdpZHRoPVwiMThcIlxuICAgICAgICAgICAgICAgIGhlaWdodD1cIjE4XCJcbiAgICAgICAgICAgICAgICA6ZmlsbD1cImNvbG9yU2NhbGUobGVnZW5kcy5uYW1lc1tpbmRleF0pXCJcbiAgICAgICAgICAgICAgICA6ZmlsbC1vcGFjaXR5PVwiZGlzcGxheVN1bmJ1cnN0LmNvbG9yLm9wYWNpdHlcIlxuICAgICAgICAgICAgICA+PC9yZWN0PlxuICAgICAgICAgICAgICA8dGV4dFxuICAgICAgICAgICAgICAgIHYtZm9yPVwiKHBhcnROYW1lLCBpKSBpbiBsZWdlbmRcIlxuICAgICAgICAgICAgICAgIHg9XCIyMlwiXG4gICAgICAgICAgICAgICAgOnk9XCI5ICsgKDE2ICogaSlcIlxuICAgICAgICAgICAgICAgIGR5PVwiMC4zNWVtXCJcbiAgICAgICAgICAgICAgICA6c3R5bGU9XCJmb250U2xpY2VzXCJcbiAgICAgICAgICAgICAgPnt7cGFydE5hbWUudG9VcHBlckNhc2UoKX19PC90ZXh0PlxuICAgICAgICAgICAgPC9nPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvdi1mbGV4PlxuICAgIDwvdi1sYXlvdXQ+XG4gIDwvdi1jb250YWluZXI+XG48L3RlbXBsYXRlPlxuPHNjcmlwdD5cbmltcG9ydCB7XG4gIHNlbGVjdCxcbiAgc2VsZWN0QWxsLFxuICBzY2FsZU9yZGluYWwsXG4gIHNjYWxlTGluZWFyLFxuICBwYXJ0aXRpb24sXG4gIGhpZXJhcmNoeSxcbiAgZm9ybWF0LFxuICBhcmMsXG4gIHF1YW50aXplLFxuICBpbnRlcnBvbGF0ZVJhaW5ib3csXG4gIGludGVycG9sYXRlQ29vbCxcbiAgaW50ZXJwb2xhdGVHbkJ1LFxuICBpbnRlcnBvbGF0ZVJnYixcbiAgaW50ZXJwb2xhdGVcbn0gZnJvbSBcImQzXCI7XG52YXIgVFdFRU4gPSByZXF1aXJlKFwiQHR3ZWVuanMvdHdlZW4uanNcIik7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJDaGFydERvbnV0XCIsXG4gIHByb3BzOiB7XG4gICAgbGluZXNEYXRhOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIHllYXJzRGF0YTogW11cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlkRG9udXQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IFwiZG9udXRcIlxuICAgIH0sXG4gICAgZGF0YURvbnV0OiBPYmplY3QsXG4gICAgZGlzcGxheVN1bmJ1cnN0OiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRhcmdldEluZGV4OiAwLFxuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGNvbG9yU2NhbGU6IFwiaW50ZXJwb2xhdGVSYWluYm93XCIsXG4gICAgICAgICAgY29sb3JNaW46IFwicmdiYSgxMiwgMjA0LCAyNDksIDEpXCIsXG4gICAgICAgICAgY29sb3JNYXg6IFwicmdiYSgxNjIsIDI1NSwgMTc0LCAxKVwiLFxuICAgICAgICAgIG9wYWNpdHk6IDAuNixcbiAgICAgICAgICBjaGlsZHJlbk9wYWNpdHk6IHtcbiAgICAgICAgICAgIHByZXNlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgb3BhY2l0eTogMC40XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBuYlJpbmc6IFwiYWxsXCIsXG4gICAgICAgIHJhZGl1c0NlbnRlcjogMTAwLFxuICAgICAgICBleHBsYW5hdGlvbnNDZW50ZXI6IHtcbiAgICAgICAgICBwcmVzZW50OiB0cnVlLFxuICAgICAgICAgIHdpZHRoOiAxNDAsXG4gICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgc2l6ZTogMTUsXG4gICAgICAgICAgICBmYW1pbHk6IFwic2Fucy1zZXJpZlwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzbGljZXM6IHtcbiAgICAgICAgICB6b29tYWJsZTogdHJ1ZSxcbiAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBwcmVzZW50OiBmYWxzZSxcbiAgICAgICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgICAgc2l6ZTogMTAsXG4gICAgICAgICAgICAgIGZhbWlseTogXCJzYW5zLXNlcmlmXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByb3RhdGlvbjogXCJ0cmFuc2Zvcm0gc3RyaW5nXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGpvaW5TbGljZXM6IHsgcHJlc2VudDogZmFsc2UsIGJvcm5JbmNsdXNpb246IFswLCAyOTcyMDU0MF0gfSxcbiAgICAgICAgICBzdXBwclNsaWNlczoge1xuICAgICAgICAgICAgcHJlc2VudDogZmFsc2UsXG4gICAgICAgICAgICBrZWVwRGF0YTogbnVsbCxcbiAgICAgICAgICAgIGJvcm5FeGNsdXNpb246IFswLCAwXSxcbiAgICAgICAgICAgIGludG86IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgdmlzaWJpbGl0eTogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhvdmVyOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHNpemVzOiB7XG4gICAgICAgICAgbWF4VzogNTAwLFxuICAgICAgICAgIGNlbnRlcjogMTUwLFxuICAgICAgICAgIHN1bmJ1cnN0VzogNTAwLFxuICAgICAgICAgIGxlZ2VuZFc6IDMwMCxcbiAgICAgICAgICBzZXF1ZW5jZVc6IDUwMCArIDMwMCArIDMwXG4gICAgICAgIH0sXG4gICAgICAgIGxlZ2VuZHM6IHtcbiAgICAgICAgICBwcmVzZW50OiB0cnVlLFxuICAgICAgICAgIHBvc2l0aW9uOiBcInJpZ2h0XCIsXG4gICAgICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHNlcXVlbmNlOiB7XG4gICAgICAgICAgcHJlc2VudDogdHJ1ZSxcbiAgICAgICAgICBmb250OiB7XG4gICAgICAgICAgICBzaXplOiAxMCxcbiAgICAgICAgICAgIGZhbWlseTogXCJzYW5zLXNlcmlmXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvc2l0aW9uOiBcInRvcFwiLFxuICAgICAgICAgIGNlbnRlcjogZmFsc2UsXG4gICAgICAgICAgZW5kTGFiZWw6IHtcbiAgICAgICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgICAgc2l6ZTogMTIsXG4gICAgICAgICAgICAgIGZhbWlseTogXCJzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgICAgIHdlaWdodDogXCJib2xkXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmVzZW50OiB0cnVlLFxuICAgICAgICAgICAgdW5pdDogXCJNaWxsaW9uIGQnZXVyb3NcIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vdFJlc2l6ZTogdHJ1ZSxcbiAgICAgIHRhcmdldEluZGV4OiAwLFxuICAgICAgY3VycmVudFJpbmc6IDAsXG4gICAgICB0d2VlbmVkQ29vcmQ6IFtdLFxuICAgICAgdGFyZ2V0Q29vcmRzOiBbXSxcbiAgICAgIG1MZWF2ZTogZmFsc2UsXG4gICAgICBzZXF1ZW5jZXM6IHtcbiAgICAgICAgY29sb3JOYW1lOiBudWxsLFxuICAgICAgICBzZXFOYW1lczogW10sXG4gICAgICAgIGxhYmVsQnVkZ2V0OiBudWxsLFxuICAgICAgICBjdXJyZW50SG92ZXI6IG51bGxcbiAgICAgIH0sXG4gICAgICBjZW50ZXJJbmZvczoge1xuICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSxcbiAgICAgIG1halc6IG51bGwsXG4gICAgICBtaW5XOiBudWxsLFxuICAgICAgbWl4VzogbnVsbCxcbiAgICAgIGxhYmVsVzogbnVsbCxcbiAgICAgIGZvbnRIZWlnaHQ6IG51bGwsXG4gICAgICBleHBsYW5hdGlvbnNQb3M6IG51bGwsXG4gICAgICBjaGFydFBvczogdGhpcy5zZXRDaGFydFBvcygpLFxuICAgICAgZm9udFNsaWNlczpcbiAgICAgICAgXCJmb250OiBcIiArXG4gICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNsaWNlcy50ZXh0LmZvbnQuc2l6ZSArXG4gICAgICAgIFwicHggXCIgK1xuICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5zbGljZXMudGV4dC5mb250LmZhbWlseSxcbiAgICAgIGZvbnRFbmRMYWJlbDpcbiAgICAgICAgXCJmb250OiBcIiArXG4gICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNlcXVlbmNlLmVuZExhYmVsLmZvbnQuc2l6ZSArXG4gICAgICAgIFwicHggXCIgK1xuICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5zZXF1ZW5jZS5lbmRMYWJlbC5mb250LmZhbWlseSArXG4gICAgICAgIFwiOyBmb250LXdlaWdodDpcIiArXG4gICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNlcXVlbmNlLmVuZExhYmVsLmZvbnQud2VpZ2h0LFxuICAgICAgZm9udFNlcTpcbiAgICAgICAgXCJmb250OiBcIiArXG4gICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNlcXVlbmNlLmZvbnQuc2l6ZSArXG4gICAgICAgIFwicHggXCIgK1xuICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5zZXF1ZW5jZS5mb250LmZhbWlseVxuICAgIH07XG4gIH0sXG4gIG1vZGVsOiB7XG4gICAgcHJvcDogXCJsaW5lc0RhdGFcIixcbiAgICBldmVudDogXCJ1cGRhdGU6bGluZXNEYXRhXCJcbiAgfSxcbiAgdXBkYXRlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5leHBsYW5hdGlvbnNQb3MgPSB0aGlzLnNldEV4cGxhbmF0aW9uc1BvcygpO1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm1halcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1halwiKS5vZmZzZXRXaWR0aCAvIDIxO1xuICAgIHRoaXMubWluVyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWluXCIpLm9mZnNldFdpZHRoIC8gMjE7XG4gICAgdGhpcy5taXhXID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtaXhcIikub2Zmc2V0V2lkdGggLyAyMTtcbiAgICB0aGlzLmxhYmVsVyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGFiZWxcIikub2Zmc2V0V2lkdGggLyA4O1xuICAgIHRoaXMuZm9udEhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWl4XCIpLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmV4cGxhbmF0aW9uc1BvcyA9IHRoaXMuc2V0RXhwbGFuYXRpb25zUG9zKCk7XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZGlzcGxheUJ1ZGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyB0cmFuc2Zvcm0uYnVkZ2V0ID0gKHRyYW5zZm9ybS5idWRnZXQgLyAxMDAwMDAwKS50b0ZpeGVkKDIpO1xuICAgICAgcmV0dXJuIHRoaXMuc2VxdWVuY2VzLmN1cnJlbnRIb3ZlclxuICAgICAgICA/IHRoaXMuc2VxdWVuY2VzLmxhYmVsQnVkZ2V0XG4gICAgICAgIDogKHRoaXMudHJhbnNmb3JtRGF0YS5idWRnZXQgLyAxMDAwMDAwKS50b0ZpeGVkKDIpO1xuICAgIH0sXG4gICAgaW50ZXJwb2xhdG9yOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmRpc3BsYXlTdW5idXJzdC5jb2xvci5jb2xvclNjYWxlID09PSBcImludGVycG9sYXRlQ29vbFwiKVxuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdGVDb29sO1xuICAgICAgZWxzZSBpZiAodGhpcy5kaXNwbGF5U3VuYnVyc3QuY29sb3IuY29sb3JTY2FsZSA9PT0gXCJpbnRlcnBvbGF0ZVJhaW5ib3dcIilcbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRlUmFpbmJvdztcbiAgICAgIGVsc2UgaWYgKHRoaXMuZGlzcGxheVN1bmJ1cnN0LmNvbG9yLmNvbG9yU2NhbGUgPT09IFwiaW50ZXJwb2xhdGVSZ2JcIilcbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRlUmdiKFxuICAgICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LmNvbG9yLmNvbG9yTWluLFxuICAgICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LmNvbG9yLmNvbG9yTWF4XG4gICAgICAgICk7XG4gICAgfSxcbiAgICBjb2xvclNjYWxlOiBmdW5jdGlvbihibGEpIHtcbiAgICAgIHJldHVybiBzY2FsZU9yZGluYWwoXG4gICAgICAgIHF1YW50aXplKHRoaXMuaW50ZXJwb2xhdG9yLCB0aGlzLnRyYW5zZm9ybURhdGEuY2hpbGRyZW4ubGVuZ3RoICsgMSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBmb250RXhwbGFuYXRpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwiZm9udDogXCIgK1xuICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5leHBsYW5hdGlvbnNDZW50ZXIuZm9udC5zaXplICtcbiAgICAgICAgXCJweCBcIiArXG4gICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LmV4cGxhbmF0aW9uc0NlbnRlci5mb250LmZhbWlseSArXG4gICAgICAgIFwiOyB3aWR0aDogXCIgK1xuICAgICAgICAodGhpcy5kaXNwbGF5U3VuYnVyc3QucmFkaXVzQ2VudGVyIC0gMTApICtcbiAgICAgICAgXCJweDtcIlxuICAgICAgKTtcbiAgICB9LFxuICAgIHRyYW5zZm9ybURhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IHRyYW5zZm9ybSA9IHtcbiAgICAgICAgbmFtZTogdGhpcy5kYXRhRG9udXQubmFtZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGJ1ZGdldFByb2dlc3M6IFtdLFxuICAgICAgICBidWRnZXQ6IDBcbiAgICAgIH07XG5cbiAgICAgIGxldCBuZXdDaGlsZHJlbiA9IFtdO1xuICAgICAgbGV0IHN1YkNoaWxkID0gW107XG4gICAgICBsZXQgYnVkZ2V0ID0gMDtcbiAgICAgIGxldCBidWRnZXRQcm9nZXNzID0gW1swLCAwLCAwLCAwLCAwLCAwXSwgWzAsIDAsIDAsIDAsIDAsIDBdXTtcblxuICAgICAgLy9zdXBwciBzbGljZXMgaW51dGlsZXNcbiAgICAgIGlmICghdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2xpY2VzLnN1cHByU2xpY2VzLmtlZXBEYXRhKSB7XG4gICAgICAgIHRyYW5zZm9ybS5jaGlsZHJlbiA9IHRoaXMuZGF0YURvbnV0LmNoaWxkcmVuLmZpbHRlcihjaGlsZCA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNsaWNlcy5zdXBwclNsaWNlcy5wcmVzZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNwbGF5U3VuYnVyc3Quc2xpY2VzLnN1cHByU2xpY2VzLmludG8pXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2xpY2VzLnN1cHByU2xpY2VzLmJvcm5FeGNsdXNpb25bMF0gPFxuICAgICAgICAgICAgICAgICAgY2hpbGQuYnVkZ2V0ICYmXG4gICAgICAgICAgICAgICAgY2hpbGQuYnVkZ2V0IDxcbiAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNsaWNlcy5zdXBwclNsaWNlcy5ib3JuRXhjbHVzaW9uWzFdXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2xpY2VzLnN1cHByU2xpY2VzLmJvcm5FeGNsdXNpb25bMF0gPFxuICAgICAgICAgICAgICAgICAgY2hpbGQuYnVkZ2V0ICYmXG4gICAgICAgICAgICAgICAgY2hpbGQuYnVkZ2V0IDw9XG4gICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5zbGljZXMuc3VwcHJTbGljZXMuYm9ybkV4Y2x1c2lvblsxXVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHRyYW5zZm9ybSA9IHRoaXMuZGF0YURvbnV0LmNoaWxkcmVuLmZpbHRlcihcbiAgICAgICAgICBjaGlsZCA9PlxuICAgICAgICAgICAgY2hpbGQubmFtZSA9PT0gdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2xpY2VzLnN1cHByU2xpY2VzLmtlZXBEYXRhXG4gICAgICAgIClbMF07XG5cbiAgICAgIC8vam9pbiBkYXRhXG4gICAgICBpZiAodGhpcy5kaXNwbGF5U3VuYnVyc3Quc2xpY2VzLmpvaW5TbGljZXMucHJlc2VudCkge1xuICAgICAgICB0cmFuc2Zvcm0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2hpbGQuYnVkZ2V0ID49XG4gICAgICAgICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNsaWNlcy5qb2luU2xpY2VzLmJvcm5JbmNsdXNpb25bMF0gJiZcbiAgICAgICAgICAgIGNoaWxkLmJ1ZGdldCA8PVxuICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5zbGljZXMuam9pblNsaWNlcy5ib3JuSW5jbHVzaW9uWzFdXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzdWJDaGlsZC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIGJ1ZGdldCArPSBjaGlsZC5idWRnZXQ7XG4gICAgICAgICAgfSBlbHNlIG5ld0NoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICB9KTtcbiAgICAgICAgbmV3Q2hpbGRyZW4ucHVzaCh7XG4gICAgICAgICAgYnVkZ2V0OiBidWRnZXQsXG4gICAgICAgICAgLy8gYnVkZ2V0UHJvZ2VzczogYnVkZ2V0UHJvZ2VzcyxcbiAgICAgICAgICBuYW1lOiBcIkFVVFJFU1wiLFxuICAgICAgICAgIGNoaWxkcmVuOiBzdWJDaGlsZFxuICAgICAgICB9KTtcbiAgICAgICAgdHJhbnNmb3JtLmNoaWxkcmVuID0gbmV3Q2hpbGRyZW47XG4gICAgICB9XG4gICAgICAvLyBjb25zb2xlLmxvZyh0cmFuc2Zvcm0uY2hpbGRyZW4pO1xuICAgICAgaWYgKFxuICAgICAgICAhdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2xpY2VzLnN1cHByU2xpY2VzLmtlZXBEYXRhICYmXG4gICAgICAgICF0aGlzLmRpc3BsYXlTdW5idXJzdC5zbGljZXMuam9pblNsaWNlcy5wcmVzZW50XG4gICAgICApIHtcbiAgICAgICAgdHJhbnNmb3JtLm5hbWUgPSBcIkFVVFJFU1wiO1xuICAgICAgICB0cmFuc2Zvcm0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgYnVkZ2V0UHJvZ2Vzc1swXSA9IGJ1ZGdldFByb2dlc3NbMF0ubWFwKChudW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBudW0gKyBjaGlsZC5idWRnZXRQcm9nZXNzWzBdW2ldLnk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnVkZ2V0UHJvZ2Vzc1sxXSA9IGJ1ZGdldFByb2dlc3NbMV0ubWFwKChudW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBudW0gKyBjaGlsZC5idWRnZXRQcm9nZXNzWzFdW2ldLnk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBidWRnZXRQcm9nZXNzID0gYnVkZ2V0UHJvZ2Vzcy5tYXAoYXJyYXkgPT5cbiAgICAgICAgICBhcnJheS5tYXAoKHZhbHVlLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB4OiB0cmFuc2Zvcm0uY2hpbGRyZW5bMF0uYnVkZ2V0UHJvZ2Vzc1swXVtpXS54LFxuICAgICAgICAgICAgICB5OiB2YWx1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImJ1ZGdldCBwcm9ncmVzc1wiLCBidWRnZXRQcm9nZXNzKTtcbiAgICAgICAgdGhpcy4kZW1pdChcInVwZGF0ZTpsaW5lc0RhdGFcIiwge1xuICAgICAgICAgIG5hbWU6IFwiQVVUUkVTXCIsXG4gICAgICAgICAgYnVkZ2V0UHJvZ2VzczogYnVkZ2V0UHJvZ2Vzc1xuICAgICAgICB9KTtcbiAgICAgICAgdHJhbnNmb3JtLmJ1ZGdldFByb2dlc3MgPSBidWRnZXRQcm9nZXNzO1xuICAgICAgfVxuICAgICAgLy8gfSk7XG4gICAgICAvLyB9XG4gICAgICBpZiAoIXRoaXMuZGlzcGxheVN1bmJ1cnN0LnNsaWNlcy5zdXBwclNsaWNlcy5rZWVwRGF0YSlcbiAgICAgICAgdHJhbnNmb3JtLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4gKHRyYW5zZm9ybS5idWRnZXQgKz0gY2hpbGQuYnVkZ2V0KSk7XG5cbiAgICAgIHRyYW5zZm9ybS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT09IFwiQVVUUkVTXCIpIHtcbiAgICAgICAgICBjaGlsZC5jaGlsZHJlbi5mb3JFYWNoKHN1YmNoaWxkID0+IHtcbiAgICAgICAgICAgIGJ1ZGdldFByb2dlc3NbMF0gPSBidWRnZXRQcm9nZXNzWzBdLm1hcCgobnVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBudW0gKyBzdWJjaGlsZC5idWRnZXRQcm9nZXNzWzBdW2ldLnk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJ1ZGdldFByb2dlc3NbMV0gPSBidWRnZXRQcm9nZXNzWzFdLm1hcCgobnVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBudW0gKyBzdWJjaGlsZC5idWRnZXRQcm9nZXNzWzFdW2ldLnk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBidWRnZXRQcm9nZXNzID0gYnVkZ2V0UHJvZ2Vzcy5tYXAoYXJyYXkgPT5cbiAgICAgICAgICAgIGFycmF5Lm1hcCgodmFsdWUsIGkpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBjaGlsZC5jaGlsZHJlblswXS5idWRnZXRQcm9nZXNzWzBdW2ldLngsXG4gICAgICAgICAgICAgICAgeTogdmFsdWVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImJ1ZGdldCBwcm9ncmVzc1wiLCBidWRnZXRQcm9nZXNzKTtcbiAgICAgICAgICBjaGlsZFtcImJ1ZGdldFByb2dlc3NcIl0gPSBidWRnZXRQcm9nZXNzO1xuICAgICAgICAgIHRoaXMuJGVtaXQoXCJ1cGRhdGU6bGluZXNEYXRhXCIsIHtcbiAgICAgICAgICAgIG5hbWU6IFwiQVVUUkVTXCIsXG4gICAgICAgICAgICBidWRnZXRQcm9nZXNzOiBidWRnZXRQcm9nZXNzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH0sXG4gICAgcm9vdDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcInRybmFmb3JtRGF0YVwiLCB0aGlzLnRyYW5zZm9ybURhdGEpO1xuICAgICAgbGV0IHJvb3QgPSBoaWVyYXJjaHkodGhpcy50cmFuc2Zvcm1EYXRhKVxuICAgICAgICAuc3VtKGQgPT4ge1xuICAgICAgICAgIHJldHVybiBkLnZhbHVlO1xuICAgICAgICB9KVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYi52YWx1ZSAtIGEudmFsdWUpO1xuXG4gICAgICB0aGlzLnBhcnRpdGlvbihyb290KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwicm9vdFwiLCByb290LmRlc2NlbmRhbnRzKCkpO1xuICAgICAgLy8gY29uc29sZS5sb2coXCJyb290XCIsIHJvb3QpO1xuXG4gICAgICBsZXQgaSA9IC0xO1xuICAgICAgcm9vdC5lYWNoKGQgPT4ge1xuICAgICAgICArK2k7XG4gICAgICAgIHJldHVybiAoZC5wb3NpdGlvbiA9IGkpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmRpc3BsYXlTdW5idXJzdC50YXJnZXRJbmRleCkge1xuICAgICAgICBsZXQgcCA9IHJvb3QuZGVzY2VuZGFudHMoKVt0aGlzLmRpc3BsYXlTdW5idXJzdC50YXJnZXRJbmRleF07XG4gICAgICAgIGxldCBtYXhEZXB0aCA9IHRoaXMuc2VhcmNoTWF4RGVwdGgocCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG1heERlcHRoIC0gcC5kZXB0aCArIDEsIHRoaXMuZGlzcGxheVN1bmJ1cnN0Lm5iUmluZylcbiAgICAgICAgbGV0IHJhZGl1c0RpdmlkZXIgPVxuICAgICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0Lm5iUmluZyA9PT0gXCJhbGxcIiB8fFxuICAgICAgICAgIG1heERlcHRoIC0gcC5kZXB0aCArIDEgPD0gdGhpcy5kaXNwbGF5U3VuYnVyc3QubmJSaW5nXG4gICAgICAgICAgICA/IG1heERlcHRoIC0gcC5kZXB0aCArIDFcbiAgICAgICAgICAgIDogdGhpcy5kaXNwbGF5U3VuYnVyc3QubmJSaW5nO1xuICAgICAgICBsZXQgbWF4RG9tYWluID1cbiAgICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5uYlJpbmcgPT09IFwiYWxsXCIgfHxcbiAgICAgICAgICBwLmRlcHRoID49IHRoaXMuZGlzcGxheVN1bmJ1cnN0Lm5iUmluZ1xuICAgICAgICAgICAgPyBtYXhEZXB0aFxuICAgICAgICAgICAgOiB0aGlzLmRpc3BsYXlTdW5idXJzdC5uYlJpbmc7XG4gICAgICAgIGxldCBuZXdQYXJ0WSA9XG4gICAgICAgICAgKHRoaXMucmFkaXVzIC0gdGhpcy5kaXNwbGF5U3VuYnVyc3QucmFkaXVzQ2VudGVyKSAvIHJhZGl1c0RpdmlkZXI7XG4gICAgICAgIGxldCByMFNjYWxlID0gc2NhbGVMaW5lYXIoKTtcbiAgICAgICAgbGV0IHIxU2NhbGUgPSBzY2FsZUxpbmVhcigpO1xuICAgICAgICByMFNjYWxlXG4gICAgICAgICAgLnJhbmdlKFt0aGlzLmRpc3BsYXlTdW5idXJzdC5yYWRpdXNDZW50ZXIsIHRoaXMucmFkaXVzIC0gbmV3UGFydFldKVxuICAgICAgICAgIC5kb21haW4oW3AuZGVwdGgsIG1heERvbWFpbl0pO1xuICAgICAgICByMVNjYWxlXG4gICAgICAgICAgLnJhbmdlKFtuZXdQYXJ0WSArIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnJhZGl1c0NlbnRlciwgdGhpcy5yYWRpdXNdKVxuICAgICAgICAgIC5kb21haW4oW3AuZGVwdGgsIG1heERvbWFpbl0pO1xuICAgICAgICByb290LmVhY2goZCA9PiB7XG4gICAgICAgICAgbGV0IG5ld1gwID1cbiAgICAgICAgICAgICAgZC5kZXB0aCA+IG1heERvbWFpbiAmJiB0aGlzLmRpc3BsYXlTdW5idXJzdC5uYlJpbmcgIT09IFwiYWxsXCJcbiAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICA6IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChkLngwIC0gcC54MCkgLyAocC54MSAtIHAueDApKSkgKlxuICAgICAgICAgICAgICAgICAgMiAqXG4gICAgICAgICAgICAgICAgICBNYXRoLlBJLFxuICAgICAgICAgICAgbmV3WDEgPVxuICAgICAgICAgICAgICBkLmRlcHRoID4gbWF4RG9tYWluICYmIHRoaXMuZGlzcGxheVN1bmJ1cnN0Lm5iUmluZyAhPT0gXCJhbGxcIlxuICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgKGQueDEgLSBwLngwKSAvIChwLngxIC0gcC54MCkpKSAqXG4gICAgICAgICAgICAgICAgICAyICpcbiAgICAgICAgICAgICAgICAgIE1hdGguUEksXG4gICAgICAgICAgICBuZXdZMCA9XG4gICAgICAgICAgICAgIGQuZGVwdGggPiBtYXhEb21haW4gJiYgdGhpcy5kaXNwbGF5U3VuYnVyc3QubmJSaW5nICE9PSBcImFsbFwiXG4gICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgOiAobmV3WDEgLSBuZXdYMCA9PT0gMiAqIE1hdGguUEkgJiZcbiAgICAgICAgICAgICAgICAgICAgZC5kYXRhLm5hbWUgIT09IHAuZGF0YS5uYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgZC5kZXB0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgIDogcjBTY2FsZShkLmRlcHRoKSxcbiAgICAgICAgICAgIG5ld1kxID1cbiAgICAgICAgICAgICAgZC5kZXB0aCA+IG1heERvbWFpbiAmJiB0aGlzLmRpc3BsYXlTdW5idXJzdC5uYlJpbmcgIT09IFwiYWxsXCJcbiAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICA6IG5ld1gxIC0gbmV3WDAgPT09IDIgKiBNYXRoLlBJICYmIGQuZGF0YS5uYW1lICE9PSBwLmRhdGEubmFtZVxuICAgICAgICAgICAgICAgID8gdGhpcy5kaXNwbGF5U3VuYnVyc3QucmFkaXVzQ2VudGVyXG4gICAgICAgICAgICAgICAgOiByMVNjYWxlKGQuZGVwdGgpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGQuZGVwdGgsIG1heERvbWFpbiwgbmV3WDEgLSBuZXdYMCwgMiAqIE1hdGguUEksIGQuZGF0YS5uYW1lLCBwLmRhdGEubmFtZSwgcjBTY2FsZShkLmRlcHRoKSlcbiAgICAgICAgICByZXR1cm4gKGQudGFyZ2V0ID0ge1xuICAgICAgICAgICAgeDA6IG5ld1gwLFxuICAgICAgICAgICAgeDE6IG5ld1gxLFxuICAgICAgICAgICAgeTA6IG5ld1kwLFxuICAgICAgICAgICAgeTE6IG5ld1kxXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgfSxcbiAgICByYWRpdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLnN1bmJ1cnN0VyAvIDI7XG4gICAgfSxcbiAgICBwYXJ0aXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBhcnRpdGlvbigpLnNpemUoWzIgKiBNYXRoLlBJLCB0aGlzLnJhZGl1c10pO1xuICAgIH0sXG4gICAgYXJjU2xpY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IGFyY1NsaWNlID0gYXJjKClcbiAgICAgICAgLnN0YXJ0QW5nbGUoZCA9PiB7XG4gICAgICAgICAgcmV0dXJuIGQueDA7XG4gICAgICAgIH0pXG4gICAgICAgIC5lbmRBbmdsZShkID0+IHtcbiAgICAgICAgICByZXR1cm4gZC54MTtcbiAgICAgICAgfSlcbiAgICAgICAgLnBhZEFuZ2xlKGQgPT4ge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1pbigoZC54MSAtIGQueDApIC8gMiwgMC4wMDUpO1xuICAgICAgICB9KVxuICAgICAgICAucGFkUmFkaXVzKHRoaXMucmFkaXVzIC8gMilcbiAgICAgICAgLmlubmVyUmFkaXVzKGQgPT4ge1xuICAgICAgICAgIHJldHVybiBkLnkwO1xuICAgICAgICB9KVxuICAgICAgICAub3V0ZXJSYWRpdXMoZCA9PiB7XG4gICAgICAgICAgcmV0dXJuIGQueTEgLSAxO1xuICAgICAgICB9KTtcbiAgICAgIHJldHVybiBhcmNTbGljZTtcbiAgICB9LFxuICAgIHNsaWNlczogZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBsb29rVXBGb3JQYXJlbnROYW1lKHNsaWNlKSB7XG4gICAgICAgIGlmIChzbGljZS5wYXJlbnQgJiYgc2xpY2UucGFyZW50LmRlcHRoID4gMCkge1xuICAgICAgICAgIHJldHVybiBsb29rVXBGb3JQYXJlbnROYW1lKHNsaWNlLnBhcmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNsaWNlLmRhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgbWF4RGVwdGggPSB0aGlzLnNlYXJjaE1heERlcHRoKHRoaXMucm9vdCk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhtYXhEZXB0aCAtIHAuZGVwdGggKyAxLCB0aGlzLmRpc3BsYXlTdW5idXJzdC5uYlJpbmcpXG4gICAgICBsZXQgbmV3UGFydFkgPVxuICAgICAgICAodGhpcy5yYWRpdXMgLSB0aGlzLmRpc3BsYXlTdW5idXJzdC5yYWRpdXNDZW50ZXIpIC8gbWF4RGVwdGg7XG4gICAgICBsZXQgcjBTY2FsZSA9IHNjYWxlTGluZWFyKCk7XG4gICAgICBsZXQgcjFTY2FsZSA9IHNjYWxlTGluZWFyKCk7XG4gICAgICByMFNjYWxlXG4gICAgICAgIC5yYW5nZShbdGhpcy5kaXNwbGF5U3VuYnVyc3QucmFkaXVzQ2VudGVyLCB0aGlzLnJhZGl1cyAtIG5ld1BhcnRZXSlcbiAgICAgICAgLmRvbWFpbihbMSwgbWF4RGVwdGhdKTtcbiAgICAgIHIxU2NhbGVcbiAgICAgICAgLnJhbmdlKFtuZXdQYXJ0WSArIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnJhZGl1c0NlbnRlciwgdGhpcy5yYWRpdXNdKVxuICAgICAgICAuZG9tYWluKFsxLCBtYXhEZXB0aF0pO1xuXG4gICAgICBsZXQgYW1wcGVkU2xpY2VzID0gdGhpcy5yb290LmRlc2NlbmRhbnRzKCkubWFwKHNsaWNlID0+IHtcbiAgICAgICAgaWYgKHNsaWNlLnBhcmVudCkge1xuICAgICAgICAgIHNsaWNlLnBhcmVudE5hbWUgPSBsb29rVXBGb3JQYXJlbnROYW1lKHNsaWNlKTtcbiAgICAgICAgfSBlbHNlIHNsaWNlLnBhcmVudE5hbWUgPSBcIlwiO1xuICAgICAgICBzbGljZS5jdXJyZW50ID0ge1xuICAgICAgICAgIHgwOlxuICAgICAgICAgICAgc2xpY2UuZGVwdGggPiB0aGlzLmN1cnJlbnRSaW5nICsgMSAmJlxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5U3VuYnVyc3QubmJSaW5nICE9PSBcImFsbFwiXG4gICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICA6IHNsaWNlLngwLFxuICAgICAgICAgIHgxOlxuICAgICAgICAgICAgc2xpY2UuZGVwdGggPiB0aGlzLmN1cnJlbnRSaW5nICsgMSAmJlxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5U3VuYnVyc3QubmJSaW5nICE9PSBcImFsbFwiXG4gICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICA6IHNsaWNlLngxLFxuICAgICAgICAgIHkwOlxuICAgICAgICAgICAgKHNsaWNlLmRlcHRoID4gdGhpcy5jdXJyZW50UmluZyArIDEgJiZcbiAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5U3VuYnVyc3QubmJSaW5nICE9PSBcImFsbFwiKSB8fFxuICAgICAgICAgICAgc2xpY2UuZGVwdGggPT09IDBcbiAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgIDogdGhpcy5kaXNwbGF5U3VuYnVyc3QubmJSaW5nID09PSBcImFsbFwiXG4gICAgICAgICAgICAgID8gcjBTY2FsZShzbGljZS5kZXB0aCkgLy8gYWxsIHJpbmdzIGF0IHRoZSBiZWdpbmluZ1xuICAgICAgICAgICAgICA6IHNsaWNlLnkwICsgdGhpcy5kaXNwbGF5U3VuYnVyc3QucmFkaXVzQ2VudGVyIC8gMiwgLy8gaWYganVzdCAxIHJpbmcgYXQgdGhlIGJlZ2luaW5nXG4gICAgICAgICAgeTE6XG4gICAgICAgICAgICBzbGljZS5kZXB0aCA+IHRoaXMuY3VycmVudFJpbmcgKyAxICYmXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5uYlJpbmcgIT09IFwiYWxsXCJcbiAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgIDogdGhpcy5kaXNwbGF5U3VuYnVyc3QubmJSaW5nID09PSBcImFsbFwiXG4gICAgICAgICAgICAgID8gcjFTY2FsZShzbGljZS5kZXB0aClcbiAgICAgICAgICAgICAgOiAvL3NsaWNlLnkxICsgdGhpcy5kaXNwbGF5U3VuYnVyc3QucmFkaXVzQ2VudGVyIC8gMiAvLyBhbGwgcmluZ3MgYXQgdGhlIGJlZ2luaW5nXG4gICAgICAgICAgICAgICAgdGhpcy5yYWRpdXMgLy8gaWYganVzdCAxIHJpbmcgYXQgdGhlIGJlZ2luaW5nXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzbGljZTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jdXJyZW50Q29vcmRzID0gYW1wcGVkU2xpY2VzLm1hcChzbGljZSA9PiBzbGljZS5jdXJyZW50KTtcbiAgICAgIGlmIChhbXBwZWRTbGljZXNbMF0udGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0Q29vcmRzID0gYW1wcGVkU2xpY2VzLm1hcChlbGVtID0+IGVsZW0udGFyZ2V0KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmRpc3BsYXlTdW5idXJzdC50YXJnZXRJbmRleCA9PT0gMClcbiAgICAgICAgdGhpcy50YXJnZXRDb29yZHMgPSB0aGlzLmN1cnJlbnRDb29yZHM7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcImhlcmVcIiwgYW1wcGVkU2xpY2VzWzBdLnRhcmdldCwgdGhpcy5jdXJyZW50Q29vcmRzLCB0aGlzLnRhcmdldENvb3JkcywgdGhpcy5kaXNwbGF5U3VuYnVyc3QudGFyZ2V0SW5kZXgpXG4gICAgICAvLyBuYiBkJ2FubmVhdXggYXUgc3VuYnVyc3RcbiAgICAgIGlmICh0aGlzLmRpc3BsYXlTdW5idXJzdC5uYlJpbmcgIT09IFwiYWxsXCIpXG4gICAgICAgIGFtcHBlZFNsaWNlcyA9IGFtcHBlZFNsaWNlcy5maWx0ZXIoXG4gICAgICAgICAgc2xpY2UgPT5cbiAgICAgICAgICAgIHNsaWNlLmRlcHRoIDw9IHRoaXMuY3VycmVudFJpbmcgKyB0aGlzLmRpc3BsYXlTdW5idXJzdC5uYlJpbmcgLSAxXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gYW1wcGVkU2xpY2VzO1xuICAgIH0sXG4gICAgdGV4dHM6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IHRleHREYXRhID0gdGhpcy5yb290LmRlc2NlbmRhbnRzKCkubWFwKChkLCBpKSA9PiB7XG4gICAgICAgIGxldCB4MCA9IGQudGFyZ2V0ID8gZC50YXJnZXQueDAgOiBkLmN1cnJlbnQueDAsXG4gICAgICAgICAgeDEgPSBkLnRhcmdldCA/IGQudGFyZ2V0LngxIDogZC5jdXJyZW50LngxLFxuICAgICAgICAgIHkwID0gZC50YXJnZXQgPyBkLnRhcmdldC55MCA6IGQuY3VycmVudC55MCxcbiAgICAgICAgICB5MSA9IGQudGFyZ2V0ID8gZC50YXJnZXQueTEgOiBkLmN1cnJlbnQueTE7XG4gICAgICAgIGNvbnN0IHggPSAoKCh4MCArIHgxKSAvIDIpICogMTgwKSAvIE1hdGguUEk7XG4gICAgICAgIGNvbnN0IHkgPSAoeTAgKyB5MSkgLyAyO1xuXG4gICAgICAgIGxldCB0cmFuc2Zvcm0gPSBgcm90YXRlKCR7eCAtIDkwfSkgdHJhbnNsYXRlKCR7eX0sMCkgcm90YXRlKCR7XG4gICAgICAgICAgeCA8IDE4MCA/IDAgOiAxODBcbiAgICAgICAgfSlgO1xuICAgICAgICBsZXQgbmFtZSA9IFtdO1xuICAgICAgICBuYW1lLnB1c2goZC5kYXRhLm5hbWUpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhuYW1lLmxlbmd0aCAqIHRoaXMubWFqVywgeTEgLSB5MCwgbmFtZSwgZC5kZXB0aCwgdGhpcy5jdXJyZW50UmluZywgdGhpcy5kaXNwbGF5U3VuYnVyc3QudGFyZ2V0SW5kZXgsIGkpO1xuICAgICAgICBpZiAobmFtZVswXS5sZW5ndGggKiB0aGlzLm1halcgPiB5MSAtIHkwICYmIHkxIC0geTAgIT09IDApIHtcbiAgICAgICAgICBsZXQgd29yZEFyID0gbmFtZVswXS5zcGxpdCgvXFxzKy8pO1xuICAgICAgICAgIGxldCBzdHJBcnIgPSBbXTtcbiAgICAgICAgICB0aGlzLnJlZHVjZVNsaWNlVGV4dCh3b3JkQXIsIHkxIC0geTAsIHN0ckFycik7XG4gICAgICAgICAgbmFtZSA9IHN0ckFycjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcbiAgICAgICAgLy8gICBuYW1lLmxlbmd0aCAqIHRoaXMuZm9udEhlaWdodCxcbiAgICAgICAgLy8gICAoKHkwICsgeTEpIC8gMikgKiAoeDEgLSB4MCksXG4gICAgICAgIC8vICAgeTAsXG4gICAgICAgIC8vICAgbmFtZVxuICAgICAgICAvLyApO1xuICAgICAgICBsZXQgZGlzcGxheSA9XG4gICAgICAgICAgKCh5MCArIHkxKSAvIDIpICogKHgxIC0geDApID4gMTAgJiZcbiAgICAgICAgICB5MCAhPT0gMCAmJlxuICAgICAgICAgICgoeTAgKyB5MSkgLyAyKSAqICh4MSAtIHgwKSA+IG5hbWUubGVuZ3RoICogdGhpcy5mb250SGVpZ2h0O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRpc3BsYXk6IGRpc3BsYXksXG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGV4dERhdGE7XG4gICAgfSxcbiAgICB0cmFuc2xhdGVDaGFydDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYHRyYW5zbGF0ZSgke3RoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLnN1bmJ1cnN0VyAvIDJ9LCAke3RoaXNcbiAgICAgICAgLmRpc3BsYXlTdW5idXJzdC5zaXplcy5zdW5idXJzdFcgLyAyfSlgO1xuICAgIH0sXG4gICAgdHJhbnNsYXRlUG9seWdvbjogZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgYW50TCA9IDA7XG4gICAgICBsZXQgYiA9IFtdO1xuICAgICAgY29uc29sZS5sb2coXCJwb2x5Z29uXCIsIHRoaXMuc2VxdWVuY2VzLnNlcU5hbWVzKTtcbiAgICAgIHRoaXMuc2VxdWVuY2VzLnNlcU5hbWVzLmZvckVhY2goKGVsZW0sIGkpID0+IHtcbiAgICAgICAgbGV0IGwgPSAwO1xuICAgICAgICBpZiAoaSAhPT0gMCkgbCA9IGFudEwgKiB0aGlzLm1halcgKyAyICsgYltpIC0gMV0gKyAyMDtcbiAgICAgICAgYi5wdXNoKGwpO1xuICAgICAgICBhbnRMID0gTWF0aC5tYXgoLi4uZWxlbS5tYXAoc3BhbiA9PiBzcGFuLmxlbmd0aCkpO1xuICAgICAgICBpKys7XG4gICAgICB9KTtcbiAgICAgIC8vIHggbGFiZWwgYnVkZ2V0XG4gICAgICBiLnB1c2goYW50TCAqIHRoaXMubWFqVyArIDIgKyBiW2IubGVuZ3RoIC0gMV0gKyAyMCk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhiKVxuICAgICAgcmV0dXJuIGI7XG4gICAgfSxcbiAgICBsZWdlbmRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMucHJvcG9ydGlvblRleHRTZXEoKTtcbiAgICAgIGxldCBsZWdlbmRzTmFtZXMgPSB0aGlzLnJvb3RcbiAgICAgICAgLmRlc2NlbmRhbnRzKClcbiAgICAgICAgLmZpbHRlcihlbGVtID0+IGVsZW0uZGVwdGggPT09IDEpXG4gICAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLmRhdGEubmFtZSk7XG5cbiAgICAgIGxldCBhcnJheU5hbWUgPSBbXSxcbiAgICAgICAgYXJyYXlMZWdlbmRzTmFtZXMgPSBbXTtcbiAgICAgIGxldCBuYlNwYW4gPSAwLFxuICAgICAgICByZWN0U2l6ZSA9IDE4ICsgNDtcblxuICAgICAgbGVnZW5kc05hbWVzLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG5hbWUubGVuZ3RoICogdGhpcy5tYWpXLCB0aGlzLm1halcsIG5hbWUubGVuZ3RoLCBuYW1lLCB0aGlzLmRpc3BsYXlTdW5idXJzdC5zaXplcy5sZWdlbmRXKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5hbWUubGVuZ3RoICogdGhpcy5tYWpXID5cbiAgICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5zaXplcy5sZWdlbmRXIC0gcmVjdFNpemVcbiAgICAgICAgKVxuICAgICAgICAgIGFycmF5TmFtZSA9IHRoaXMucmVkdWNlTGVnZW5kVHh0KFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLmxlZ2VuZFcgLSByZWN0U2l6ZVxuICAgICAgICAgICk7XG4gICAgICAgIGVsc2UgYXJyYXlOYW1lID0gW25hbWVdO1xuICAgICAgICBuYlNwYW4gKz0gYXJyYXlOYW1lLmxlbmd0aDtcbiAgICAgICAgYXJyYXlMZWdlbmRzTmFtZXMucHVzaChhcnJheU5hbWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGxldCBsb25nZXN0TmFtZSA9IDA7XG4gICAgICBhcnJheUxlZ2VuZHNOYW1lcy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBuYW1lLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coZWxlbS5sZW5ndGgpXG4gICAgICAgICAgaWYgKGxvbmdlc3ROYW1lIDwgZWxlbS5sZW5ndGgpIGxvbmdlc3ROYW1lID0gZWxlbS5sZW5ndGg7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lczogbGVnZW5kc05hbWVzLFxuICAgICAgICBhcnJheU5hbWVzOiBhcnJheUxlZ2VuZHNOYW1lcyxcbiAgICAgICAgd2lkdGg6IGxvbmdlc3ROYW1lLFxuICAgICAgICBuYlNwYW46IG5iU3BhblxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgdGFyZ2V0Q29vcmRzOiBmdW5jdGlvbihuZXdTZXQsIG9sZFNldCkge1xuICAgICAgZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICAgICAgaWYgKFRXRUVOLnVwZGF0ZSgpKSB7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIm5ld1NldFwiLG5ld1NldCwgb2xkU2V0KVxuICAgICAgbmV3U2V0LmZvckVhY2goKGVsZW0sIGkpID0+IHtcbiAgICAgICAgbmV3IFRXRUVOLlR3ZWVuKFxuICAgICAgICAgIG9sZFNldC5sZW5ndGggJiYgb2xkU2V0W2ldID8gb2xkU2V0W2ldIDogdGhpcy5jdXJyZW50Q29vcmRzW2ldXG4gICAgICAgIClcbiAgICAgICAgICAudG8oZWxlbSwgMTAwMClcbiAgICAgICAgICAuZWFzaW5nKFRXRUVOLkVhc2luZy5RdWFkcmF0aWMuT3V0KVxuICAgICAgICAgIC5vblVwZGF0ZShzZXQgPT4ge1xuICAgICAgICAgICAgY29uc3QgeCA9ICgoKHNldC54MCArIHNldC54MSkgLyAyKSAqIDE4MCkgLyBNYXRoLlBJO1xuICAgICAgICAgICAgY29uc3QgeSA9IChzZXQueTAgKyBzZXQueTEpIC8gMjtcbiAgICAgICAgICAgIHNlbGVjdChcIi5cIiArIHRoaXMuaWREb251dCArIFwiICNzbGljZVwiICsgaSkuYXR0cihcbiAgICAgICAgICAgICAgXCJkXCIsXG4gICAgICAgICAgICAgIHRoaXMuYXJjU2xpY2Uoc2V0KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHNlbGVjdChcIi5cIiArIHRoaXMuaWREb251dCArIFwiICN0ZXh0XCIgKyBpKS5hdHRyKFxuICAgICAgICAgICAgICBcInRyYW5zZm9ybVwiLFxuICAgICAgICAgICAgICBgcm90YXRlKCR7eCAtIDkwfSkgdHJhbnNsYXRlKCR7eX0sMCkgcm90YXRlKCR7eCA8IDE4MCA/IDAgOiAxODB9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuc3RhcnQoKTtcbiAgICAgIH0pO1xuICAgICAgYW5pbWF0ZSgpO1xuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHRyYW5zbGF0ZUxlZ2VuZDogZnVuY3Rpb24obmFtZXMsIGluZGV4LCBsZWdlbmQpIHtcbiAgICAgIGxldCBoID0gMDtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwibmFtZXNcIiwgbmFtZXMsIGxlZ2VuZC5qb2luKFwiIFwiKS50cmltKCkpO1xuICAgICAgaWYgKGluZGV4ID09PSAwKSByZXR1cm4gYHRyYW5zbGF0ZSgwLCBgICsgMzMgKiBpbmRleCArIGApYDtcbiAgICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4OyBpKyspIHtcbiAgICAgICAgICBpZiAobmFtZXNbaV0ubGVuZ3RoID09PSAxKSBoICs9IDE4ICsgMTU7XG4gICAgICAgICAgZWxzZSBoICs9IDIuNSArIG5hbWVzW2ldLmxlbmd0aCAqIDEyICsgKG5hbWVzW2ldLmxlbmd0aCAtIDEpICsgMTU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGB0cmFuc2xhdGUoMCwgYCArIGggKyBgKWA7XG4gICAgICB9XG4gICAgfSxcbiAgICByZWR1Y2VMZWdlbmRUeHQ6IGZ1bmN0aW9uKG5hbWUsIGxlZ2VuZFR4dFNpemUpIHtcbiAgICAgIGxldCB3b3JkcyA9IG5hbWUuc3BsaXQoL1xccysvKSxcbiAgICAgICAgcGFydE5hbWUgPSBcIlwiLFxuICAgICAgICBhcnJheU5hbWUgPSBbXSxcbiAgICAgICAgYSA9IDA7XG5cbiAgICAgIHdvcmRzLnNvbWUoKHdvcmQsIGkpID0+IHtcbiAgICAgICAgaWYgKHBhcnROYW1lLmNvbmNhdChcIiBcIiwgd29yZCkubGVuZ3RoICogdGhpcy5tYWpXIDwgbGVnZW5kVHh0U2l6ZSlcbiAgICAgICAgICBwYXJ0TmFtZSA9IHBhcnROYW1lLmNvbmNhdChcIiBcIiwgd29yZCkudHJpbSgpO1xuICAgICAgICBlbHNlIGlmIChhID09PSAwKSByZXR1cm4gKGEgPSBpKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYSkge1xuICAgICAgICBhcnJheU5hbWUucHVzaChwYXJ0TmFtZSk7XG4gICAgICAgIHdvcmRzID0gd29yZHMuc2xpY2UoYSk7XG4gICAgICAgIGlmICh3b3Jkcy5qb2luKFwiIFwiKS5sZW5ndGggKiB0aGlzLm1halcgPiBsZWdlbmRUeHRTaXplKSB7XG4gICAgICAgICAgdGhpcy5yZWR1Y2VMZWdlbmRUeHQod29yZHMuam9pbihcIiBcIikudHJpbSgpLCBhcnJheU5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFycmF5TmFtZS5wdXNoKHdvcmRzLmpvaW4oXCIgXCIpLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBhcnJheU5hbWUucHVzaChuYW1lKTtcbiAgICAgIHJldHVybiBhcnJheU5hbWU7XG4gICAgfSxcbiAgICBzZXRDaGFydFBvczogZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgcHJvcG9ydGlvbiA9XG4gICAgICAgIHdpbmRvdy5pbm5lcldpZHRoID4gNjAwICYmIHRoaXMuZGlzcGxheVN1bmJ1cnN0LmxlZ2VuZHMucHJlc2VudFxuICAgICAgICAgID8gXCJ4czhcIlxuICAgICAgICAgIDogXCJ4czEyXCI7XG4gICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2l6ZXMub2Zmc2V0O1xuXG4gICAgICByZXR1cm4gcHJvcG9ydGlvbiArIFwiIFwiICsgb2Zmc2V0O1xuICAgIH0sXG4gICAgb25SZXNpemUoKSB7XG4gICAgICBsZXQgZG9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0aGlzLmlkRG9udXQpO1xuXG4gICAgICBsZXQgY2hpbGQgPSBkb2NbMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW47XG4gICAgICBsZXQgc2VxVyA9IGNoaWxkLnNlcXVlbmNlLm9mZnNldFdpZHRoO1xuICAgICAgbGV0IGxlZ1cgPSBjaGlsZC5zaWRlYmFyID8gY2hpbGQuc2lkZWJhci5vZmZzZXRXaWR0aCA6IG51bGw7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcInJlc2l6ZVwiLCBjaGlsZCwgbGVnVywgdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2l6ZXMubGVnZW5kVywgdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2l6ZXMuc2VxdWVuY2VXKTtcbiAgICAgIGlmICh0aGlzLm5vdFJlc2l6ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2l6ZXMuc2VxdWVuY2VXID0gc2VxVztcbiAgICAgICAgdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2l6ZXMubGVnZW5kVyA9IGxlZ1c7XG4gICAgICB9IGVsc2UgdGhpcy5ub3RSZXNpemUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXhwbGFuYXRpb25zUG9zID0gdGhpcy5zZXRFeHBsYW5hdGlvbnNQb3MoKTtcblxuICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gNjAwICYmIHRoaXMuZGlzcGxheVN1bmJ1cnN0LmxlZ2VuZHMucHJlc2VudClcbiAgICAgICAgdGhpcy5jaGFydFBvcyA9IFwieHM4XCI7XG4gICAgICBlbHNlIHRoaXMuY2hhcnRQb3MgPSBcInhzMTJcIjtcbiAgICB9LFxuXG4gICAgc2VhcmNoTWF4RGVwdGgocCkge1xuICAgICAgbGV0IG1heERlcHRoID0gMDtcbiAgICAgIHAuZWFjaChlbGVtID0+IHtcbiAgICAgICAgaWYgKGVsZW0uY2hpbGRyZW4pXG4gICAgICAgICAgZWxlbS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoTWF4RGVwdGgoY2hpbGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBtYXhEZXB0aCA9IGVsZW0uZGVwdGg7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtYXhEZXB0aDtcbiAgICB9LFxuICAgIHZpc2libGVBcmMoaW5kZXgsIHNsaWNlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIChpbmRleCA9PT0gMCAmJiAhdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2xpY2VzLmNlbnRlci52aXNpYmlsaXR5KSB8fFxuICAgICAgICAodGhpcy5yb290LmRlc2NlbmRhbnRzKClbaW5kZXhdLnRhcmdldCAmJlxuICAgICAgICAgIHRoaXMucm9vdC5kZXNjZW5kYW50cygpW2luZGV4XS50YXJnZXQueTAgPT09IDAgJiZcbiAgICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5leHBsYW5hdGlvbnNDZW50ZXIucHJlc2VudClcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gc2xpY2UuY2hpbGRyZW5cbiAgICAgICAgPyB0aGlzLmRpc3BsYXlTdW5idXJzdC5jb2xvci5vcGFjaXR5XG4gICAgICAgIDogdGhpcy5kaXNwbGF5U3VuYnVyc3QuY29sb3IuY2hpbGRyZW5PcGFjaXR5LnByZXNlbnRcbiAgICAgICAgPyB0aGlzLmRpc3BsYXlTdW5idXJzdC5jb2xvci5jaGlsZHJlbk9wYWNpdHkub3BhY2l0eVxuICAgICAgICA6IHRoaXMuZGlzcGxheVN1bmJ1cnN0LmNvbG9yLm9wYWNpdHk7XG4gICAgfSxcbiAgICBzaXplV29yZHMod29yZEFyLCByaW5nU2l6ZSkge1xuICAgICAgbGV0IHNpemVPayA9IHRydWU7XG4gICAgICB3b3JkQXIuZm9yRWFjaCh3b3JkID0+IHtcbiAgICAgICAgaWYgKHdvcmQubGVuZ3RoICogdGhpcy5tYWpXID4gcmluZ1NpemUpIHNpemVPayA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gc2l6ZU9rO1xuICAgIH0sXG4gICAgcmVkdWNlU2xpY2VUZXh0KHdvcmRBciwgcmluZ1NpemUsIHN0ckFycikge1xuICAgICAgbGV0IHN0ciA9IFwiXCI7XG4gICAgICBsZXQgYSA9IDA7XG5cbiAgICAgIGlmICh0aGlzLnNpemVXb3Jkcyh3b3JkQXIsIHJpbmdTaXplKSkge1xuICAgICAgICB3b3JkQXIuZm9yRWFjaCgod29yZCwgaSkgPT4ge1xuICAgICAgICAgIGlmIChpID09PSAwICYmIHN0ci5jb25jYXQoXCJcIiwgd29yZCkubGVuZ3RoICogdGhpcy5tYWpXIDwgcmluZ1NpemUpIHtcbiAgICAgICAgICAgIHN0ciA9IHN0ci5jb25jYXQoXCJcIiwgd29yZCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdHIuY29uY2F0KFwiIFwiLCB3b3JkKS5sZW5ndGggKiB0aGlzLm1halcgPCByaW5nU2l6ZSkge1xuICAgICAgICAgICAgc3RyID0gc3RyLmNvbmNhdChcIiBcIiwgd29yZCk7XG4gICAgICAgICAgICBhID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3b3JkQXIgPSB3b3JkQXIuc2xpY2UoYSArIDEpO1xuICAgICAgICBpZiAoc3RyKSBzdHJBcnIucHVzaChzdHIpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImljaVwiLCBzdHIsIHdvcmRBciwgd29yZEFyLmpvaW4oXCIgXCIpLmxlbmd0aCk7XG4gICAgICAgIGlmICh3b3JkQXIuam9pbihcIiBcIikubGVuZ3RoICogdGhpcy5tYWpXID4gcmluZ1NpemUpIHtcbiAgICAgICAgICB0aGlzLnJlZHVjZVNsaWNlVGV4dCh3b3JkQXIsIHJpbmdTaXplLCBzdHJBcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh3b3JkQXIubGVuZ3RoKSBzdHJBcnIucHVzaCh3b3JkQXIuam9pbihcIiBcIikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzbWFsbGVzdEZpcnN0V29yZHNBcnIoXG4gICAgICBhbGxXb3Jkc0FycixcbiAgICAgIHJlZHVjZXIsXG4gICAgICBzaXplU2VxLFxuICAgICAgc2l6ZUxhYmVsLFxuICAgICAgbWF4V29yZExlbmd0aFxuICAgICkge1xuICAgICAgbGV0IGZ1bGxOYW1lTGVuZ3RoID0gYWxsV29yZHNBcnIubWFwKGFycmF5VyA9PiBhcnJheVcuam9pbihcIiBcIikubGVuZ3RoKTtcbiAgICAgIGFsbFdvcmRzQXJyID0gYWxsV29yZHNBcnIubWFwKChhcnJheVcsIGkpID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJtYXhMZW5cIiwgbWF4V29yZExlbmd0aFtpXSwgYXJyYXlXLmpvaW4oXCIgXCIpLmxlbmd0aCwgYXJyYXlXLmpvaW4oXCIgXCIpLCBNYXRoLm1heCguLi5mdWxsTmFtZUxlbmd0aCkpXG4gICAgICAgIGlmIChcbiAgICAgICAgICBhcnJheVcuam9pbihcIiBcIikubGVuZ3RoID09PSBNYXRoLm1heCguLi5mdWxsTmFtZUxlbmd0aCkgfHxcbiAgICAgICAgICBhcnJheVcuam9pbihcIiBcIikubGVuZ3RoID4gbWF4V29yZExlbmd0aFtpXVxuICAgICAgICApXG4gICAgICAgICAgYXJyYXlXID0gYXJyYXlXLnNsaWNlKDAsIGFycmF5Vy5sZW5ndGggLSAxKTtcbiAgICAgICAgcmV0dXJuIGFycmF5VztcbiAgICAgIH0pO1xuICAgICAgbGV0IGFycmF5ID0gYWxsV29yZHNBcnIubWFwKChhcnJheVcsIGkpID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJqb2luXCIsYXJyYXlXLmpvaW4oXCIgXCIpLmxlbmd0aCwgbWF4V29yZExlbmd0aFtpXSwgYXJyYXlXLmpvaW4oXCIgXCIpLmxlbmd0aCA+IG1heFdvcmRMZW5ndGhbaV0gPyBhcnJheVcuam9pbihcIiBcIikubGVuZ3RoIDogbWF4V29yZExlbmd0aFtpXSlcbiAgICAgICAgcmV0dXJuIGFycmF5Vy5qb2luKFwiIFwiKS5sZW5ndGggPiBtYXhXb3JkTGVuZ3RoW2ldXG4gICAgICAgICAgPyBhcnJheVcuam9pbihcIiBcIikubGVuZ3RoXG4gICAgICAgICAgOiBtYXhXb3JkTGVuZ3RoW2ldO1xuICAgICAgICAvLyByZXR1cm4gYXJyYXlXLmpvaW4oXCIgXCIpLmxlbmd0aCAqIHRoaXMubWFqVyArIDIwXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwiYXJyYXlcIiwgYXJyYXksIGFycmF5LnJlZHVjZShyZWR1Y2VyKSwgc2l6ZVNlcSAtIHNpemVMYWJlbCk7XG5cbiAgICAgIGxldCBzdW1XID0gYXJyYXkucmVkdWNlKHJlZHVjZXIpO1xuICAgICAgaWYgKHN1bVcgKiB0aGlzLm1halcgKyBtYXhXb3JkTGVuZ3RoLmxlbmd0aCAqIDI1ID4gc2l6ZVNlcSAtIHNpemVMYWJlbClcbiAgICAgICAgcmV0dXJuIHRoaXMuc21hbGxlc3RGaXJzdFdvcmRzQXJyKFxuICAgICAgICAgIGFsbFdvcmRzQXJyLFxuICAgICAgICAgIHJlZHVjZXIsXG4gICAgICAgICAgc2l6ZVNlcSxcbiAgICAgICAgICBzaXplTGFiZWwsXG4gICAgICAgICAgbWF4V29yZExlbmd0aFxuICAgICAgICApO1xuXG4gICAgICBhbGxXb3Jkc0FyciA9IGFsbFdvcmRzQXJyLm1hcChhcnJheVcgPT4gYXJyYXlXLmpvaW4oXCIgXCIpKTtcbiAgICAgIHJldHVybiBhbGxXb3Jkc0FycjtcbiAgICB9LFxuICAgIHJlZHVjZU5iVyhhbGxXb3Jkc0Fyciwgc2l6ZVNlcSwgc2l6ZUxhYmVsKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInJlZHVjZU5CXCIsIGFsbFdvcmRzQXJyKTtcbiAgICAgIGxldCBuYldvcmRzID0gYWxsV29yZHNBcnIubWFwKGFycmF5VyA9PiBhcnJheVcubGVuZ3RoKTtcbiAgICAgIGxldCBtYXhXb3JkTGVuZ3RoID0gYWxsV29yZHNBcnIubWFwKGFycmF5VyA9PlxuICAgICAgICBNYXRoLm1heCguLi5hcnJheVcubWFwKHdvcmQgPT4gd29yZC5sZW5ndGgpKVxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVkdWNlciA9IChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PiBhY2N1bXVsYXRvciArIGN1cnJlbnRWYWx1ZTtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBtYXhXb3JkTGVuZ3RoLFxuICAgICAgICBtYXhXb3JkTGVuZ3RoLnJlZHVjZShyZWR1Y2VyKSxcbiAgICAgICAgdGhpcy5tYWpXLFxuICAgICAgICBtYXhXb3JkTGVuZ3RoLnJlZHVjZShyZWR1Y2VyKSAqIHRoaXMubWFqVyxcbiAgICAgICAgc2l6ZVNlcSAtIHNpemVMYWJlbCxcbiAgICAgICAgc2l6ZVNlcSxcbiAgICAgICAgYWxsV29yZHNBcnJcbiAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIG1heFdvcmRMZW5ndGgucmVkdWNlKHJlZHVjZXIpICogdGhpcy5tYWpXICsgbWF4V29yZExlbmd0aC5sZW5ndGggKiAyNSA8XG4gICAgICAgIHNpemVTZXEgLSBzaXplTGFiZWxcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gKGFsbFdvcmRzQXJyID0gdGhpcy5zbWFsbGVzdEZpcnN0V29yZHNBcnIoXG4gICAgICAgICAgYWxsV29yZHNBcnIsXG4gICAgICAgICAgcmVkdWNlcixcbiAgICAgICAgICBzaXplU2VxLFxuICAgICAgICAgIHNpemVMYWJlbCxcbiAgICAgICAgICBtYXhXb3JkTGVuZ3RoXG4gICAgICAgICkpO1xuICAgICAgfSBlbHNlIHJldHVybjtcbiAgICB9LFxuICAgIHJlZHVjZVNlY29uZExpbmU6IGZ1bmN0aW9uKHdvcmQsIHRzcGFuLCBuZXdTcGFuKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImhlcmVcIik7XG4gICAgICBsZXQgc3BsaXRTcGFuID0gdHNwYW4uc3BsaXQoL1xccysvKTtcbiAgICAgIGxldCBsID0gMCxcbiAgICAgICAgaW5kZXggPSAwO1xuICAgICAgY29uc29sZS5sb2codHNwYW4pO1xuICAgICAgc3BsaXRTcGFuLmZvckVhY2goKHNwYW5Xb3JkLCBpKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3BhbldcIiwgc3BhbldvcmQpO1xuICAgICAgICBsICs9IHNwYW5Xb3JkLmxlbmd0aCArIDE7XG4gICAgICAgIGlmIChsIDw9IHdvcmQubGVuZ3RoICsgMSkgaW5kZXggPSBpO1xuICAgICAgfSk7XG4gICAgICBsZXQgbmV3U3BhbjEgPSBzcGxpdFNwYW4uc2xpY2UoMCwgaW5kZXggKyAxKS5qb2luKFwiIFwiKTtcbiAgICAgIGxldCBuZXdTcGFuMiA9XG4gICAgICAgIHNwbGl0U3Bhbi5sZW5ndGggPiAxXG4gICAgICAgICAgPyBzcGxpdFNwYW4uc2xpY2UoaW5kZXggKyAxLCBzcGxpdFNwYW4ubGVuZ3RoKS5qb2luKFwiIFwiKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIG5ld1NwYW4ucHVzaChuZXdTcGFuMSk7XG5cbiAgICAgIGlmIChuZXdTcGFuMiAmJiBuZXdTcGFuMi5sZW5ndGggPiB3b3JkLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIHRoaXMucmVkdWNlU2Vjb25kTGluZSh3b3JkLCBuZXdTcGFuMiwgbmV3U3Bhbik7XG4gICAgICBlbHNlIGlmIChuZXdTcGFuMikgbmV3U3Bhbi5wdXNoKG5ld1NwYW4yKTtcbiAgICAgIHJldHVybiBuZXdTcGFuO1xuICAgIH0sXG4gICAgYmxhYmxhKGVuZExhYmVsVywgZW5kTGFiZWxQLCBzZXFOYW1lc0Jhc2UpIHtcbiAgICAgIGxldCB3b3JkQXIgPSBzZXFOYW1lc0Jhc2UubWFwKGVsZW0gPT4gZWxlbVswXS5zcGxpdCgvXFxzKy8pKTtcbiAgICAgIHdvcmRBciA9IHRoaXMucmVkdWNlTmJXKFxuICAgICAgICB3b3JkQXIsXG4gICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLnNlcXVlbmNlVyxcbiAgICAgICAgZW5kTGFiZWxXICsgZW5kTGFiZWxQXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coXCJ3b3JkQXJcIiwgd29yZEFyKTtcblxuICAgICAgaWYgKHdvcmRBcikge1xuICAgICAgICByZXR1cm4gc2VxTmFtZXNCYXNlLm1hcCgoZWxlbSwgaSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VxYmFzZVwiLCBlbGVtLCB3b3JkQXJbaV0pO1xuICAgICAgICAgIGlmIChlbGVtWzBdICE9PSB3b3JkQXJbaV0pIHtcbiAgICAgICAgICAgIGxldCB0c3BhbiA9IGVsZW1bMF0uc3BsaXQod29yZEFyW2ldICsgXCIgXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0c3BhblwiLCB0c3Bhbik7XG4gICAgICAgICAgICBlbGVtID0gW3dvcmRBcltpXSwgdHNwYW5bMV1dO1xuXG4gICAgICAgICAgICBpZiAodHNwYW5bMV0gJiYgd29yZEFyW2ldLmxlbmd0aCA8IHRzcGFuWzFdLmxlbmd0aCkge1xuICAgICAgICAgICAgICBsZXQgbmV3U3BhbiA9IFtdO1xuICAgICAgICAgICAgICBuZXdTcGFuID0gdGhpcy5yZWR1Y2VTZWNvbmRMaW5lKHdvcmRBcltpXSwgdHNwYW5bMV0sIG5ld1NwYW4pO1xuICAgICAgICAgICAgICBlbGVtID0gW3dvcmRBcltpXV0uY29uY2F0KG5ld1NwYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbmV3U2VxTmFtZXMgPSBzZXFOYW1lc0Jhc2UubWFwKChlbGVtLCBpKSA9PiB7XG4gICAgICAgICAgaWYgKGkgIT09IHNlcU5hbWVzQmFzZS5sZW5ndGggLSAxKSBlbGVtID0gW1wiLi4uXCJdO1xuICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxhYmxhKGVuZExhYmVsVywgZW5kTGFiZWxQLCBuZXdTZXFOYW1lcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBwcm9wb3J0aW9uVGV4dFNlcTogZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgbmV3U2VxTmFtZXMgPSB0aGlzLnNlcXVlbmNlcy5zZXFOYW1lcztcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwic2VxbmFtZVwiLCBuZXdTZXFOYW1lcyk7XG4gICAgICBpZiAodGhpcy5zZXF1ZW5jZXMuc2VxTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBhcnJheSA9IHRoaXMuc2VxdWVuY2VzLnNlcU5hbWVzLm1hcChcbiAgICAgICAgICBlbGVtID0+IGVsZW1bMF0ubGVuZ3RoICogdGhpcy5tYWpXICsgMjBcbiAgICAgICAgKTtcbiAgICAgICAgLy8gcGFzIGVuY29yZSBlbiBzcGFuXG5cbiAgICAgICAgY29uc3QgcmVkdWNlciA9IChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PlxuICAgICAgICAgIGFjY3VtdWxhdG9yICsgY3VycmVudFZhbHVlO1xuXG4gICAgICAgIGxldCBlbmRMYWJlbFcgPVxuICAgICAgICAgICAgKHRoaXMuc2VxdWVuY2VzLmxhYmVsQnVkZ2V0Lmxlbmd0aCArXG4gICAgICAgICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNlcXVlbmNlLmVuZExhYmVsLnVuaXQubGVuZ3RoICtcbiAgICAgICAgICAgICAgMSkgKlxuICAgICAgICAgICAgdGhpcy5sYWJlbFcsXG4gICAgICAgICAgZW5kTGFiZWxQID0gMTU7XG5cbiAgICAgICAgbGV0IHN1bVcgPSBhcnJheS5yZWR1Y2UocmVkdWNlcik7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2Vxd1wiLCB0aGlzLmRpc3BsYXlTdW5idXJzdC5zaXplcy5zZXF1ZW5jZVcpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcbiAgICAgICAgLy8gICBcIldlbmRsYWJlbFwiLFxuICAgICAgICAvLyAgIGVuZExhYmVsVyxcbiAgICAgICAgLy8gICBhcnJheSxcbiAgICAgICAgLy8gICBzdW1XLFxuICAgICAgICAvLyAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLnNlcXVlbmNlVyAtIGVuZExhYmVsVyAtIGVuZExhYmVsUFxuICAgICAgICAvLyApO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBzdW1XID5cbiAgICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5zaXplcy5zZXF1ZW5jZVcgLSBlbmRMYWJlbFcgLSBlbmRMYWJlbFBcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gd29yZEFyID0gdGhpcy5yZWR1Y2VOYlcoXG4gICAgICAgICAgLy8gICB3b3JkQXIsXG4gICAgICAgICAgLy8gICB0aGlzLmRpc3BsYXlTdW5idXJzdC5zaXplcy5zZXF1ZW5jZVcsXG4gICAgICAgICAgLy8gICBlbmRMYWJlbFcgKyBlbmRMYWJlbFBcbiAgICAgICAgICAvLyApO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwid29yZEFyXCIsIHdvcmRBcik7XG5cbiAgICAgICAgICAvLyBpZiAod29yZEFyKSB7XG4gICAgICAgICAgLy8gbmV3U2VxTmFtZXMgPSB0aGlzLnNlcXVlbmNlcy5zZXFOYW1lcy5tYXAoKGVsZW0sIGkpID0+IHtcbiAgICAgICAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhlbGVtLCB3b3JkQXJbaV0pXG4gICAgICAgICAgLy8gICAgICAgaWYgKGVsZW1bMF0gIT09IHdvcmRBcltpXSkge1xuICAgICAgICAgIC8vICAgICAgICAgbGV0IHRzcGFuID0gZWxlbVswXS5zcGxpdCh3b3JkQXJbaV0gKyBcIiBcIik7XG4gICAgICAgICAgLy8gICAgICAgICBlbGVtID0gW3dvcmRBcltpXSwgdHNwYW5bMV1dO1xuICAgICAgICAgIC8vICAgICAgICAgaWYgKHdvcmRBcltpXS5sZW5ndGggPCB0c3BhblsxXS5sZW5ndGgpIHtcbiAgICAgICAgICAvLyAgICAgICAgICAgbGV0IG5ld1NwYW4gPSBbXTtcbiAgICAgICAgICAvLyAgICAgICAgICAgbmV3U3BhbiA9IHRoaXMucmVkdWNlU2Vjb25kTGluZShcbiAgICAgICAgICAvLyAgICAgICAgICAgICB3b3JkQXJbaV0sXG4gICAgICAgICAgLy8gICAgICAgICAgICAgdHNwYW5bMV0sXG4gICAgICAgICAgLy8gICAgICAgICAgICAgbmV3U3BhblxuICAgICAgICAgIC8vICAgICAgICAgICApO1xuICAgICAgICAgIC8vICAgICAgICAgICBlbGVtID0gW3dvcmRBcltpXV0uY29uY2F0KG5ld1NwYW4pO1xuICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgIC8vICAgICAgIH1cbiAgICAgICAgICAvLyAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgLy8gZWxzZSB7XG4gICAgICAgICAgLy8gICBuZXdTZXFOYW1lcyA9IHRoaXMuc2VxdWVuY2VzLnNlcU5hbWVzLm1hcCgoZWxlbSwgaSkgPT4ge1xuICAgICAgICAgIC8vICAgICBpZihpICE9PSB0aGlzLnNlcXVlbmNlcy5zZXFOYW1lcy5sZW5ndGggLSAxKVxuICAgICAgICAgIC8vICAgICAgIGVsZW0gPSBbXCIuLi5cIl1cbiAgICAgICAgICAvLyAgICAgcmV0dXJuIGVsZW1cbiAgICAgICAgICAvLyAgIH0pO1xuXG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIGxldCBuZXdTZXFOYW1lcyA9IHRoaXMuYmxhYmxhKFxuICAgICAgICAgICAgZW5kTGFiZWxXLFxuICAgICAgICAgICAgZW5kTGFiZWxQLFxuICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZXMuc2VxTmFtZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuc2VxdWVuY2VzLnNlcU5hbWVzID0gbmV3U2VxTmFtZXM7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJuZXdcIixuZXdTZXFOYW1lcylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgbm90Q2VudGVyKG5hbWVzKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIm5vdGNlbnRlclwiLCBuYW1lcywgbmFtZXNbMF1bMF0sIHRoaXMucm9vdC5kZXNjZW5kYW50cygpWzBdLmRhdGEubmFtZS50b1VwcGVyQ2FzZSgpKVxuICAgICAgaWYgKFxuICAgICAgICBuYW1lc1swXVswXSA9PT0gdGhpcy5yb290LmRlc2NlbmRhbnRzKClbMF0uZGF0YS5uYW1lLnRvVXBwZXJDYXNlKCkgJiZcbiAgICAgICAgIXRoaXMuZGlzcGxheVN1bmJ1cnN0LnNsaWNlcy5jZW50ZXIudmlzaWJpbGl0eSAmJlxuICAgICAgICBuYW1lcy5sZW5ndGggPT09IDFcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHBvbHlnb25Qb2ludHMoYWxsU3BhbiwgYWxsTmFtZXMpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwicG9pbnRzXCIsIGFsbE5hbWVzKVxuICAgICAgbGV0IG5iU3BhblRleHQgPSBhbGxOYW1lcy5tYXAoc3BhbiA9PiBzcGFuLmxlbmd0aCk7XG4gICAgICBsZXQgbWF4TFNwYW4gPSBNYXRoLm1heCguLi5hbGxTcGFuLm1hcChzcGFuID0+IHNwYW4ubGVuZ3RoKSk7XG4gICAgICBsZXQgbWF4SCA9IE1hdGgubWF4KC4uLm5iU3BhblRleHQpO1xuICAgICAgLy8gY29uc29sZS5sb2coXCJzcGFuXCIsYWxsU3BhbiwgbWF4TFNwYW4pXG4gICAgICBsZXQgYSA9IG1heExTcGFuICogdGhpcy5tYWpXICsgMjAsIC8vcGFkZGluZ1xuICAgICAgICBiID0gYSArIDEwLCAvL3BvaW50ZVxuICAgICAgICBjID0gbWF4SCA+IDIgPyAobWF4SCArIDEpICogMTAgOiAzMCxcbiAgICAgICAgZCA9IG1heEggPiAyID8gNSArIG1heEggKiA1IDogMTU7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIjAsMCBcIiArXG4gICAgICAgIGEgK1xuICAgICAgICBcIiwwIFwiICtcbiAgICAgICAgYiArXG4gICAgICAgIFwiLFwiICtcbiAgICAgICAgZCArXG4gICAgICAgIFwiIFwiICtcbiAgICAgICAgYSArXG4gICAgICAgIFwiLFwiICtcbiAgICAgICAgYyArXG4gICAgICAgIFwiIDAsXCIgK1xuICAgICAgICBjICtcbiAgICAgICAgXCIgMTAsXCIgK1xuICAgICAgICBkXG4gICAgICApO1xuICAgIH0sXG4gICAgeVNwYW46IGZ1bmN0aW9uKHNlcXVlbmNlLCBhbGxOYW1lcykge1xuICAgICAgbGV0IGFsbExlbmd0aCA9IGFsbE5hbWVzLm1hcChlbGVtID0+IGVsZW0ubGVuZ3RoKTtcbiAgICAgIGxldCBtYXhMID0gTWF0aC5tYXgoLi4uYWxsTGVuZ3RoKTtcblxuICAgICAgLy8gY29uc29sZS5sb2cobWF4TCwgYWxsTmFtZXMpXG5cbiAgICAgIGxldCB5U3BhblNjYWxlID0gc2NhbGVMaW5lYXIoKTtcbiAgICAgIHlTcGFuU2NhbGUucmFuZ2UoWyhtYXhMICsgMSkgKiA1LCAxNV0pLmRvbWFpbihbMSwgbWF4TF0pO1xuICAgICAgLy8gY29uc29sZS5sb2coeVNwYW5TY2FsZShzZXF1ZW5jZS5sZW5ndGgpKVxuICAgICAgbGV0IGEgPVxuICAgICAgICBzZXF1ZW5jZS5sZW5ndGggPT09IG1heExcbiAgICAgICAgICA/IG1heEwgPT09IDFcbiAgICAgICAgICAgID8gMTVcbiAgICAgICAgICAgIDogMTNcbiAgICAgICAgICA6IHlTcGFuU2NhbGUoc2VxdWVuY2UubGVuZ3RoKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHNlcXVlbmNlLCBhKVxuICAgICAgcmV0dXJuIGE7XG4gICAgfSxcbiAgICBjbGlja2VkKGluZGV4LCBpZERvbnV0KSB7XG4gICAgICBpZiAoaWREb251dCA9PT0gXCJkb251dDJcIikge1xuICAgICAgICB0aGlzLmN1cnJlbnRSaW5nID0gdGhpcy5yb290LmRlc2NlbmRhbnRzKClbaW5kZXhdLmRlcHRoO1xuICAgICAgfVxuICAgICAgLy8gY29uc29sZS5sb2coXCJkYXRhRG9udXQgaW4gY2xpY2tcIiwgdGhpcy5yb290LmRlc2NlbmRhbnRzKClbaW5kZXhdKVxuICAgICAgdGhpcy4kZW1pdChcIm9uQ2xpY2tcIiwgdGhpcy5yb290LmRlc2NlbmRhbnRzKClbaW5kZXhdLCBpZERvbnV0LCBpbmRleCk7XG4gICAgfSxcblxuICAgIHNldEV4cGxhbmF0aW9uc1BvczogZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2VxdWVuY2VzLCB0aGlzLnRyYW5zZm9ybURhdGEpXG4gICAgICBsZXQgbmFtZSA9IHRoaXMuc2VxdWVuY2VzLmN1cnJlbnRIb3ZlclxuICAgICAgICA/IHRoaXMuc2VxdWVuY2VzLmN1cnJlbnRIb3ZlclxuICAgICAgICA6IHRoaXMudHJhbnNmb3JtRGF0YS5uYW1lO1xuICAgICAgbmV3RGl2LmlubmVySFRNTCA9XG4gICAgICAgIG5hbWUudG9VcHBlckNhc2UoKSArXG4gICAgICAgIFwiPGJyPjxicj48c3Bhbj5cIiArXG4gICAgICAgIHRoaXMuc2VxdWVuY2VzLmxhYmVsQnVkZ2V0ICtcbiAgICAgICAgXCIgXCIgK1xuICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5zZXF1ZW5jZS5lbmRMYWJlbC51bml0ICtcbiAgICAgICAgXCI8L3NwYW4+XCI7XG4gICAgICBuZXdEaXYuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJleHBsYW5hdGlvblwiKTtcbiAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCB0aGlzLmZvbnRFeHBsYW5hdGlvbnMpO1xuXG4gICAgICBsZXQgY3VycmVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpO1xuICAgICAgY3VycmVudERpdi5hcHBlbmRDaGlsZChuZXdEaXYpO1xuXG4gICAgICBsZXQgZG9udXQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHRoaXMuaWREb251dCksXG4gICAgICAgIGNoYXJ0VyA9IGRvbnV0WzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuLmNoYXJ0Lm9mZnNldFdpZHRoO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhjaGFydFcsIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLm1heFcpXG4gICAgICBpZiAoY2hhcnRXID4gMjAwICYmIGNoYXJ0VyA8IHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLm1heFcpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2l6ZXMuc3VuYnVyc3RXID0gY2hhcnRXO1xuICAgICAgICB0aGlzLmRpc3BsYXlTdW5idXJzdC5yYWRpdXNDZW50ZXIgPVxuICAgICAgICAgIGNoYXJ0VyAvIDQgPiB0aGlzLmRpc3BsYXlTdW5idXJzdC5zaXplcy5jZW50ZXJcbiAgICAgICAgICAgID8gdGhpcy5kaXNwbGF5U3VuYnVyc3Quc2l6ZXMuY2VudGVyXG4gICAgICAgICAgICA6IGNoYXJ0VyAvIDQ7XG4gICAgICB9IGVsc2UgaWYgKGNoYXJ0VyA+PSB0aGlzLmRpc3BsYXlTdW5idXJzdC5zaXplcy5tYXhXKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLnN1bmJ1cnN0VyA9IHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLm1heFc7XG4gICAgICAgIHRoaXMuZGlzcGxheVN1bmJ1cnN0LnJhZGl1c0NlbnRlciA9IHRoaXMuZGlzcGxheVN1bmJ1cnN0LnNpemVzLmNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgbGV0IGhEaXYgPSBuZXdEaXYub2Zmc2V0SGVpZ2h0O1xuICAgICAgbGV0IHREaXYgPSB0aGlzLmRpc3BsYXlTdW5idXJzdC5zaXplcy5zdW5idXJzdFcgLyAyIC0gaERpdiAvIDI7XG4gICAgICBsZXQgbERpdiA9IGNoYXJ0VyAvIDIgLSAodGhpcy5kaXNwbGF5U3VuYnVyc3QucmFkaXVzQ2VudGVyIC0gMTApIC8gMjtcblxuICAgICAgY3VycmVudERpdi5yZW1vdmVDaGlsZChuZXdEaXYpO1xuXG4gICAgICByZXR1cm4gXCJ0b3A6IFwiICsgdERpdiArIFwicHg7IGxlZnQ6IFwiICsgbERpdiArIFwicHg7XCI7XG4gICAgfSxcblxuICAgIC8vIGxlZ2VuZE92ZXIoaW5kZXgpIHtcbiAgICAvLyAgIGxldCBkb2MgPSB0aGlzO1xuXG4gICAgLy8gICBmdW5jdGlvbiBvdmVyQ2hpbGRyZW4oc2xpY2UsIGlkRG9udXQpIHtcbiAgICAvLyAgICAgaWYgKHNsaWNlLmNoaWxkcmVuICYmIHNsaWNlLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgIC8vICAgICAgIHNsaWNlLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgIC8vICAgICAgICAgc2VsZWN0KFwiLlwiICsgaWREb251dCArIFwiICNzbGljZVwiICsgY2hpbGQucG9zaXRpb24pLnN0eWxlKFxuICAgIC8vICAgICAgICAgICBcIm9wYWNpdHlcIixcbiAgICAvLyAgICAgICAgICAgMVxuICAgIC8vICAgICAgICAgKTtcbiAgICAvLyAgICAgICAgIGlmIChjaGlsZC5jaGlsZHJlbiAmJiBjaGlsZC5jaGlsZHJlbi5sZW5ndGgpXG4gICAgLy8gICAgICAgICAgIG92ZXJDaGlsZHJlbihjaGlsZCwgaWREb251dCk7XG4gICAgLy8gICAgICAgfSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH1cblxuICAgIC8vICAgc2VsZWN0QWxsKFwiLlwiICsgZG9jLmlkRG9udXQgKyBcIiAjY2hhcnQgcGF0aFwiKS5zdHlsZShcIm9wYWNpdHlcIiwgMC4zKTtcbiAgICAvLyAgIHNlbGVjdChcIi5cIiArIGRvYy5pZERvbnV0ICsgXCIgI3NsaWNlXCIgKyBpbmRleCkuc3R5bGUoXCJvcGFjaXR5XCIsIDEpO1xuXG4gICAgLy8gICBvdmVyQ2hpbGRyZW4odGhpcy5yb290LmRlc2NlbmRhbnRzKClbaW5kZXhdLCB0aGlzLmlkRG9udXQpO1xuICAgIC8vIH0sXG5cbiAgICAvLyBsZW5nZW5kTGVhdmUoKSB7XG4gICAgLy8gICBsZXQgZG9jID0gdGhpcztcbiAgICAvLyAgIHRoaXMubUxlYXZlID0gdHJ1ZTtcbiAgICAvLyAgIGNvbnN0IHR1cm5PbkhvdmVyID0gKCkgPT4ge1xuICAgIC8vICAgICAgIGRvYy5tTGVhdmUgPSBmYWxzZTtcbiAgICAvLyAgICAgfTtcbiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKFwibGVhdmVcIix0aGlzLm1MZWF2ZSlcbiAgICAvLyAgIHNlbGVjdEFsbChcIi5cIiArIHRoaXMuaWREb251dCArIFwiICNjaGFydCBwYXRoXCIpXG4gICAgLy8gICAgIC50cmFuc2l0aW9uKClcbiAgICAvLyAgICAgLmR1cmF0aW9uKDUwMClcbiAgICAvLyAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxuICAgIC8vICAgICAub24oXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgY29uc29sZS5sb2coXCJlbmRcIilcbiAgICAvLyAgICAgICB0dXJuT25Ib3ZlcigpO1xuICAgIC8vICAgICB9KTtcbiAgICAvLyB9LFxuXG4gICAgbW91c2VvdmVyKGluZGV4KSB7XG4gICAgICBsZXQgZG9jID0gdGhpcztcblxuICAgICAgZnVuY3Rpb24gbW91c2VPbkNlbnRlcihkb2MpIHtcbiAgICAgICAgZG9jLm1MZWF2ZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IHR1cm5PbkhvdmVyID0gKCkgPT4ge1xuICAgICAgICAgIGRvYy5tTGVhdmUgPSBmYWxzZTtcbiAgICAgICAgICBkb2Muc2VxdWVuY2VzLnNlcU5hbWVzID0gW107XG4gICAgICAgICAgZG9jLnNlcXVlbmNlcy5jdXJyZW50SG92ZXIgPSBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGVjdEFsbChcIi5cIiArIGRvYy5pZERvbnV0ICsgXCIgI2NoYXJ0IHBhdGhcIilcbiAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgLmR1cmF0aW9uKDUwMClcbiAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpXG4gICAgICAgICAgLm9uKFwiZW5kXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdHVybk9uSG92ZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIG92ZXJQYXJlbnRzKHNsaWNlLCBkb2MsIGRpc3BsYXksIGlkRG9udXQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChzbGljZS5wYXJlbnQgJiZcbiAgICAgICAgICAgIHNsaWNlLnBhcmVudC5kZXB0aCA+IDAgJiZcbiAgICAgICAgICAgIHNsaWNlLnBhcmVudC50YXJnZXQgJiZcbiAgICAgICAgICAgIHNsaWNlLnBhcmVudC50YXJnZXQueTAgIT09IDAgJiZcbiAgICAgICAgICAgIGRpc3BsYXkuZXhwbGFuYXRpb25zQ2VudGVyLnByZXNlbnQpIHx8XG4gICAgICAgICAgKGRpc3BsYXkubmJSaW5nID09PSBcImFsbFwiICYmXG4gICAgICAgICAgICBzbGljZS5wYXJlbnQgJiZcbiAgICAgICAgICAgICFzbGljZS5wYXJlbnQudGFyZ2V0ICYmXG4gICAgICAgICAgICBzbGljZS5wYXJlbnQuZGVwdGggPiAwKVxuICAgICAgICApIHtcbiAgICAgICAgICBzZWxlY3QoXCIuXCIgKyBpZERvbnV0ICsgXCIgI3NsaWNlXCIgKyBzbGljZS5wYXJlbnQucG9zaXRpb24pLnN0eWxlKFxuICAgICAgICAgICAgXCJvcGFjaXR5XCIsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKTtcbiAgICAgICAgICBvdmVyUGFyZW50cyhzbGljZS5wYXJlbnQsIGRvYywgZGlzcGxheSwgaWREb251dCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgKHNsaWNlLmRlcHRoID09PSAwICYmICFkaXNwbGF5LnNsaWNlcy5jZW50ZXIudmlzaWJpbGl0eSkgfHxcbiAgICAgICAgICAoZGlzcGxheS5leHBsYW5hdGlvbnNDZW50ZXIucHJlc2VudCAmJlxuICAgICAgICAgICAgc2xpY2UudGFyZ2V0ICYmXG4gICAgICAgICAgICBzbGljZS50YXJnZXQueTAgPT09IDApXG4gICAgICAgICkge1xuICAgICAgICAgIG1vdXNlT25DZW50ZXIoZG9jKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gc2V0U2VxdWVuY2Uoc2xpY2UpIHtcbiAgICAgICAgaWYgKHNsaWNlLnBhcmVudCAmJiBzbGljZS5wYXJlbnQuZGVwdGggPiAwKSB7XG4gICAgICAgICAgc2VxTmFtZXMucHVzaChzbGljZS5wYXJlbnQuZGF0YS5uYW1lLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICAgIHNldFNlcXVlbmNlKHNsaWNlLnBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2VsZWN0QWxsKFwiLlwiICsgZG9jLmlkRG9udXQgKyBcIiAjY2hhcnQgcGF0aFwiKS5zdHlsZShcIm9wYWNpdHlcIiwgMC4zKTtcbiAgICAgIHNlbGVjdChcIi5cIiArIGRvYy5pZERvbnV0ICsgXCIgI3NsaWNlXCIgKyBpbmRleCkuc3R5bGUoXCJvcGFjaXR5XCIsIDEpO1xuICAgICAgb3ZlclBhcmVudHMoXG4gICAgICAgIHRoaXMucm9vdC5kZXNjZW5kYW50cygpW2luZGV4XSxcbiAgICAgICAgdGhpcyxcbiAgICAgICAgdGhpcy5kaXNwbGF5U3VuYnVyc3QsXG4gICAgICAgIHRoaXMuaWREb251dFxuICAgICAgKTtcbiAgICAgIHRoaXMuc2VxdWVuY2VzLmNvbG9yTmFtZSA9IHRoaXMucm9vdC5kZXNjZW5kYW50cygpW2luZGV4XS5wYXJlbnROYW1lO1xuICAgICAgdGhpcy5zZXF1ZW5jZXMuY3VycmVudEhvdmVyID1cbiAgICAgICAgKGluZGV4ICYmXG4gICAgICAgICAgKHRoaXMucm9vdC5kZXNjZW5kYW50cygpW2luZGV4XS50YXJnZXQgJiZcbiAgICAgICAgICAgIHRoaXMucm9vdC5kZXNjZW5kYW50cygpW2luZGV4XS50YXJnZXQueTAgIT09IDApKSB8fFxuICAgICAgICAoaW5kZXggJiYgIXRoaXMucm9vdC5kZXNjZW5kYW50cygpW2luZGV4XS50YXJnZXQpXG4gICAgICAgICAgPyB0aGlzLnJvb3QuZGVzY2VuZGFudHMoKVtpbmRleF0uZGF0YS5uYW1lXG4gICAgICAgICAgOiBudWxsO1xuXG4gICAgICB0aGlzLmV4cGxhbmF0aW9uc1BvcyA9IHRoaXMuc2V0RXhwbGFuYXRpb25zUG9zKCk7XG5cbiAgICAgIGxldCBzZXFOYW1lcyA9IFtdO1xuICAgICAgc2VxTmFtZXMucHVzaCh0aGlzLnJvb3QuZGVzY2VuZGFudHMoKVtpbmRleF0uZGF0YS5uYW1lLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgc2V0U2VxdWVuY2UodGhpcy5yb290LmRlc2NlbmRhbnRzKClbaW5kZXhdKTtcbiAgICAgIHNlcU5hbWVzID0gc2VxTmFtZXMucmV2ZXJzZSgpO1xuICAgICAgdGhpcy5zZXF1ZW5jZXMuc2VxTmFtZXMgPSBzZXFOYW1lcy5tYXAoZWxlbSA9PiB7XG4gICAgICAgIGxldCBhcnJheU5hbWUgPSBbXTtcbiAgICAgICAgYXJyYXlOYW1lLnB1c2goZWxlbSk7XG4gICAgICAgIHJldHVybiBhcnJheU5hbWU7XG4gICAgICB9KTtcblxuICAgICAgbGV0IGJ1ZGdldCA9IHRoaXMucm9vdC5kZXNjZW5kYW50cygpW2luZGV4XS5kYXRhLnZhbHVlXG4gICAgICAgID8gdGhpcy5yb290LmRlc2NlbmRhbnRzKClbaW5kZXhdLmRhdGEudmFsdWUgLyAxMDAwMDAwXG4gICAgICAgIDogdGhpcy5yb290LmRlc2NlbmRhbnRzKClbaW5kZXhdLmRhdGEuYnVkZ2V0IC8gMTAwMDAwMDtcbiAgICAgIHRoaXMuc2VxdWVuY2VzLmxhYmVsQnVkZ2V0ID0gYnVkZ2V0LnRvRml4ZWQoMik7XG4gICAgfSxcblxuICAgIG1vdXNlbGVhdmUoKSB7XG4gICAgICB0aGlzLm1MZWF2ZSA9IHRydWU7XG4gICAgICBjb25zdCB0dXJuT25Ib3ZlciA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5tTGVhdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXF1ZW5jZXMuc2VxTmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXF1ZW5jZXMuY3VycmVudEhvdmVyID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIHNlbGVjdEFsbChcIi5cIiArIHRoaXMuaWREb251dCArIFwiICNjaGFydCBwYXRoXCIpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDUwMClcbiAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxuICAgICAgICAub24oXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdHVybk9uSG92ZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuPC9zY3JpcHQ+XG48IS0tIEFkZCBcInNjb3BlZFwiIGF0dHJpYnV0ZSB0byBsaW1pdCBDU1MgdG8gdGhpcyBjb21wb25lbnQgb25seSAtLT5cbjxzdHlsZT5cbi8qICNjaGFydCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59ICovXG4ud2lkdGhfdGV4dCB7XG4gIGhlaWdodDogMHB4O1xufVxuI2V4cGxhbmF0aW9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiByZ2IoOTQsIDk0LCA5NCk7XG59XG48L3N0eWxlPiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUlBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQU5BO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBREE7QUFHQTtBQXBCQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQVBBO0FBUkE7QUF4REE7QUFGQTtBQWZBO0FBOEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQU9BO0FBcENBO0FBMENBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFLQTtBQUtBO0FBS0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQTNCQTtBQTRCQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFsYkE7QUFvYkE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBN0JBO0FBK0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQURBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFRQTtBQUlBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBRkE7QUFJQTtBQWdCQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBV0E7QUFJQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQXhqQkE7QUE5bUJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/components/ChartDonut.vue?vue&type=script&lang=js&\n");

/***/ })

})